<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="My Little World" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0">






<meta property="og:type" content="website">
<meta property="og:title" content="My Little World">
<meta property="og:url" content="http://yoohannah.github.io/page/17/index.html">
<meta property="og:site_name" content="My Little World">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="My Little World">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoohannah.github.io/page/17/">





  <title> My Little World </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">My Little World</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">learn and share</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoohannah.github.io/post/php/CookieAndSession.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YooHannah">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/psb.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="My Little World">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="My Little World" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/php/CookieAndSession.html" itemprop="url">
                  cookie和session
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-26T21:38:37+08:00">
                2017-05-26
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h1><p>设置cookie<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bool setcookie  (</span><br><span class="line">	string $名字</span><br><span class="line">	[, string $值]</span><br><span class="line">	[, int $过期时间  = 0]</span><br><span class="line">	[, string $路径]</span><br><span class="line">	[, string $域名]</span><br><span class="line">	[, bool $安全  = false]</span><br><span class="line">	[, bool $http只读  = false]</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p> 参数 描述<br>$名字 必需。规定 cookie 的名称。<br>$值 可选。规定 cookie 的值。<br>$有效期 可选。规定 cookie 的有效期。<br>$路径 可选。规定 cookie 的服务器路径。<br>$域名 可选。规定 cookie 的域名。<br>$安全 可选。规定是否通过安全的 HTTPS 连接来传输 cookie。<br>$http安读 可选。如果true，那么js就无法读取改cookie，增加安全性。</p>
<p>在服务端通过$_COOKIE[‘name’] 来读取cookie了。</p>
<p><a href="https://github.com/YooHannah/algorithm/tree/master/php/cookie" target="_blank" rel="noopener">使用cookie例子</a></p>
<h1 id="session"><a href="#session" class="headerlink" title="session"></a>session</h1><p> session_start(); //开启session<br> $_SESSION[‘userName’] = ‘wang’; //添加session数据<br> $userName = $_SESSION[‘userName’]; //读取session数据<br> unset($_SESSION[‘XXX’]);//销毁单个session数据<br> $_SESSION = array();//销毁全部session数据<br> session_destory();//这个函数会销毁当前会话中的全部数据，并结束当前会话,但是不会重置当前会话所关联的全局变量，也不会重置会话 cookie</p>
<p> 在php.ini配置文件中有这么一行 session.save_handler = files,<br> files,说明了php默认的是用文件读写的方式来保存session的<br> session.save_path = “/tmp”, “/tmp”即存储路径</p>
<p><a href="https://github.com/YooHannah/algorithm/tree/master/php/shoppingcart" target="_blank" rel="noopener">使用session例子</a></p>
<h1 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line">$ch = curl_init();</span><br><span class="line"><span class="comment">//设置选项，包括URL</span></span><br><span class="line">curl_setopt($ch, CURLOPT_URL, <span class="string">"http://www.php.cn"</span>);</span><br><span class="line">curl_setopt($ch, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line">curl_setopt($ch, CURLOPT_HEADER, <span class="number">0</span>);</span><br><span class="line"><span class="comment">//执行并获取HTML文档内容</span></span><br><span class="line">$output = curl_exec($ch);</span><br><span class="line"><span class="comment">//释放curl句柄</span></span><br><span class="line">curl_close($ch);</span><br><span class="line"><span class="comment">//打印获得的数据</span></span><br><span class="line">print_r($output);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>函数    curl_setopt<br>参数1    curl资源变量<br>参数2    curl参数选项<br>参数3    curl参数值</p>
<p>CURLOPT_URL           这个参数选项规定了请求的url地址。<br>CURLOPT_RETURNTRANSFER   curl请求后返回对应的结果 若需要返回值即为1。不需请求后返回的结果可设置为0。</p>
<p>如果是get请求，我们不需要设置发送的参数。在post等请求的时候，我们需要设置发送方法为post方法。并设置发送的数据。<br>CURLOPT_POST    值设为1是使用POST方法，0为不使用POST方法<br>CURLOPT_POSTFIELDS  设置传递的数据<br>//声明使用POST方式来进行发送<br>    curl_setopt($ch, CURLOPT_POST, 1);<br>//发送什么数据呢<br>curl_setopt($ch, CURLOPT_POSTFIELDS, $data);</p>
<p>如果是https有的时候需要忽略https的安全证书。</p>
<p>CURLOPT_SSL_VERIFYPEER和CURLOPT_SSL_VERIFYHOST 两个参数改为false即忽略了证书。<br>curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);<br>curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);<br>CURLOPT_HEADER  决定是是否处理http的头信息，不接收处理的话可将这个值设置为0。<br>CURLOPT_TIMEOUT 设置请求的超时时间</p>
<p>$output = curl_exec($ch); 如果执行的结果有数据。使用curl_exec执行后，会将结果返回给$output变量。<br>curl_close($ch); 关闭curl资源。<br><a href="https://github.com/YooHannah/algorithm/blob/master/php/curl1.php" target="_blank" rel="noopener">curlget 截取页面例子</a><br><a href="https://github.com/YooHannah/algorithm/blob/master/php/curlpost.php" target="_blank" rel="noopener">curlpost例子</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoohannah.github.io/post/php/php_MySQL.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YooHannah">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/psb.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="My Little World">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="My Little World" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/php/php_MySQL.html" itemprop="url">
                  MySQL的基本知识
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-26T21:37:37+08:00">
                2017-05-26
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="五个基本单位"><a href="#五个基本单位" class="headerlink" title="五个基本单位"></a>五个基本单位</h1><p>数据库服务器:指用来运行数据库服务的一台电脑<br>数据库:一个数据库服务器里面有可以有多个数据库。主要用来分类使用。<br>数据表:专门用来区分一个数据库中的不同数据<br>数据字段:也叫数据列,日常所见表格里面的列<br>数据行:真正的数据存在每一个表的行里面</p>
<h1 id="语句类别"><a href="#语句类别" class="headerlink" title="语句类别"></a>语句类别</h1><p>1.数据定义语言(DDL ，Data Defintion Language)语句：数据定义语句，用于定义不同的数据段、数据库、表、列、索引等。常用的语句关键字包括create、drop、alter等。<br>2.数据操作语言(DML ， Data Manipulation Language)语句：数据操纵语句，用于添加、删除、更新和查询数据库记录，并检查数据的完整性。常用的语句关键字主要包括insert、delete、update和select等。<br>3.数据控制语言(DCL， Data Control Language)<br>语句：数据控制语句，用于控制不同数据段直接的许可和访问级别的语句。<br>这些语句定义了数据库、表、字段、用户的访问权限和安全级别。主要的语句关键字包括grant、revoke等。</p>
<h1 id="操作语句"><a href="#操作语句" class="headerlink" title="操作语句"></a>操作语句</h1><p>create database 数据库名;      创建数据库<br>show databases;                查看当前服务器有哪些数据库，显示所有数据库名<br>use 数据库名;                  选中数据库，进入到相应的数据库中<br>show tables;                   显示当前数据库下的所有表<br>drop database 数据库名;        删除数据库<br>create table 表名(字段名1 字段类型,….字段名n 字段类型n); 建表<br>desc 表名;                     查看表结构，显示表中属性</p>
<p>show create table 表名 \G;<br>查看表的创建语句，“\G”选项的含义是使得记录能够按照字段竖着排列，对于内 容比较长的记录更易于显示。<br>可以看到表的 engine（存储引擎) 和 charset(字符集)等信息<br>在创建表的时候能够制定引擎<br>例<br>CREATE TABLE emp (<br>     useraname varchar(10) DEFAULT NULL,<br>     password date DEFAULT NULL,<br> )ENGINE=InnoDB DEFAULT CHARSET=utf8;</p>
<p>drop table 表名;                删除表<br>alter table 表名 modify 字段名 类型字段; 修改表字段类型<br>alter table 表名 add column 字段名 类型;  增加表字段<br>alter table 表名 add 字段名2 字段类型 after 字段名1; 在字段名1后面增加字段名1<br>alter table 表名 add 字段名2 字段类型 first; 在最开始的位置增加字段<br>alter table 表名 drop column 字段名;                 删除表字段<br>alter table 表名 change 字段原名 字段新名 字段类型;  表字段改名</p>
<p>alter table 旧表名 rename 新的表名; 修改表名</p>
<p>修改表字段排列顺序<br>在前的字段增加和修改语句（add/change/modify）中，最后都可以加一个可选项 first|after。</p>
<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><h2 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h2><p>MySQL数据类型    所占字节    值范围<br>tinyint    1字节    -128~127<br>smallint    2字节    -32768~32767<br>mediumint    3字节    -8388608~8388607<br>int    4字节    范围-2147483648~2147483647<br>bigint    8字节    +-9.22*10的18次方<br>1.在创建表字段时，性别我们可以使用无符号的微小整型（tinyint）来表示。用0表示女、用1表示男。用2表示未知。<br>2.同样人类年龄也是，在创建表字段时可用用无符号的整型。因为人类的年龄还没有负数<br>3.在实际使用过程中。我们业务中最大需要存储多大的数值。我们创建表时，就选择什么样的类型来存储这样的值。</p>
<h2 id="浮点类型"><a href="#浮点类型" class="headerlink" title="浮点类型"></a>浮点类型</h2><p>MySQL数据类型    所占字节    值范围<br>float(m, d)    4字节    单精度浮点型，m总个数，d小数位<br>double(m, d)    8字节    双精度浮点型，m总个数，d小数位<br>decimal(m, d)  decimal是存储为字符串的浮点数<br>浮点是非精确值，会存在不太准确的情况,而decimal叫做定点数。<br>在MySQL内部，本质上是用字符串存储的。实际使用过程中如果存在金额、钱精度要求比较高的浮点数存储，建议使用decimal（定点数）这个类型</p>
<h2 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h2><p>MySQL数据类型    所占字节    值范围<br>CHAR    0-255字节    定长字符串<br>VARCHAR    0-255字节    变长字符串<br>TINYBLOB    0-255字节    不超过255个字符的二进制字符串<br>TINYTEXT    0-255字节    短文本字符串<br>BLOB    0-65535字节    二进制形式的长文本数据<br>TEXT    0-65535字节    长文本数据<br>MEDIUMBLOB    0-16 777 215字节    二进制形式的中等长度文本数据<br>MEDIUMTEXT    0-16 777 215字节    中等长度文本数据<br>LOGNGBLOB    0-4 294 967 295字节    二进制形式的极大文本数据<br>LONGTEXT    0-4 294 967 295字节    极大文本数据<br>VARBINARY(M)    允许长度0-M个字节的定长字节符串    值的长度+1个字节<br>BINARY(M)    M    允许长度0-M个字节的定长字节符串</p>
<h2 id="时间类型"><a href="#时间类型" class="headerlink" title="时间类型"></a>时间类型</h2><p>MySQL数据类型    所占字节    值范围<br>date    3字节    日期，格式：2014-09-18<br>time    3字节    时间，格式：08:42:30<br>datetime    8字节    日期时间，格式：2014-09-18 08:42:30<br>timestamp    4字节    自动存储记录修改的时间<br>year    1字节    年份</p>
<h2 id="复合类型"><a href="#复合类型" class="headerlink" title="复合类型"></a>复合类型</h2><p>MySQL数据类型    说明    举例<br>set    集合类型    set(“member”, “member2″, … “member64″)<br>enum    枚举类型    enum(“member1″, “member2″, … “member65535″)<br>一个 ENUM 类型只允许从一个集合中取得一个值；而 SET 类型允许从一个集合中取得任意多个值。</p>
<h2 id="常用中文字符集"><a href="#常用中文字符集" class="headerlink" title="常用中文字符集"></a>常用中文字符集</h2><p>gbk_chinese_ci    简体中文, 不区分大小写<br>utf8_general_ci    Unicode (多语言), 不区分大小写<br>mysql在写utf-8的时候写的是utf8。不加中间的中横线</p>
<h1 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h1><p>使用show engines命令可显示当前服务器支持的所有引擎<br>引擎名称<br>MyISAM    常用。读取效率很高的引擎<br>InnoDB    常用。写入，支持事处等都支持<br>Archive    不常用。归档引擎，压缩比高达1:10，用于数据归档<br>NDB    不常用。主要在MySQL 集群服务器中使用，</p>
<p>行锁：写入、更新操作的时候将这一行锁起来，不让其他人再操作了。<br>表锁：写入、更新操作时，将表给锁起来不让其他人再操作了。<br>事务：同时操作多个数据，若其中的一个数据操作失败。可回滚到操作之前。常用于银行、电商、金融等系统中</p>
<p>MyISAM<br>不支持事务，表锁(表级锁，加锁会锁住整个表)，支持全文索引,操作速度快。常用于读取多的业务。<br>myisam存储引擎表由myd和myi组成。.myd用来存放数据文件，.myi用来存放索引文件。<br>对于myisam存储引擎表，mysql数据库只缓存其索引文件，数据文件的缓存由操作系统本身来完成。</p>
<p>InnoDB<br>支持事务，主要面向在线事务处理(OLTP)方面的应用。<br>行锁设计，支持外键，即默认情况下读取操作不加锁。</p>
<h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><p>1.普通索引    最基本的索引，它没有任何限制<br>alter table 表  add index(字段)</p>
<p>2.唯一索引    某一行企用了唯一索引则不准许这一列的行数据中有重复的值。针对这一列的每一行数据都要求是唯一的<br>alter table 表  add UNIQUE(字段)</p>
<p>3.主键索引    它是一种特殊的唯一索引，不允许有空值。一般是在建表的时候同时创建主键索引，常用于用户ID。类似于书中的页码<br>alter table 表  add PRIMARY KEY(字段)</p>
<p>4.全文索引    对于需要全局搜索的数据，进行全文索引<br>alter table 表  add FULLTEXT(字段)</p>
<p>创建表时可在创建表语句后加上对应的类型即可声明索引：<br>CREATE TABLE test (<br>     id INT NOT NULL ,<br>     username VARCHAR(20) NOT NULL ,<br>     password INT NOT NULL ,<br>     content INT NOT NULL ,<br>     PRIMARY KEY (id),<br>     INDEX pw (password),<br>     UNIQUE (username),<br>     FULLTEXT (content)<br> ) ENGINE = InnoDB;</p>
<h1 id="插入记录"><a href="#插入记录" class="headerlink" title="插入记录"></a>插入记录</h1><p>  方法一：<br>    insert into 表 values(值1,值2,值n);<br>  表中有多少个字段就必须要插入多少个值。一个不能多，一个也不能少。若有默认值，不想传，可以写上null。<br>  顺序应该和表字段的排序一致。<br>  方法二：<br>  insert into 表(字段1,字段2,字段n) values(值1,值2,值n);<br>  除非有必填字段必须要写入值外。如果有默认值的不想写可以忽略不写。mysql会自动补主默认值。<br>  以表(字段1,字段2,字段n)字段顺序为值的顺序。<br>  基本语法变形：一次插入多条记录<br>  INSERT INTO user(username,password,sex)<br>     values(‘ll’, ‘abcdef’, 1),<br>     ( ‘loe’, ‘bcdeef’, 0),<br>     ( ‘key’, ‘123456’, 1),<br>     (‘tom’, ‘987654’, 1);</p>
<h1 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h1><p>select <em> from 表;                             查询表中所有字段中的所有结果,”</em>“ 是一种正则表达式的写法，表示匹配所有<br>select 字段1[,字段2,字段n] from 表;           指定字段查询<br>select distinct 字段 from 表;                 查询单个字段不重复记录 distinct<br>select  字段 from 表 where 条件;              条件查询 where,条件可以是逻辑比较运算符的比较式</p>
<p>select 字段 from 表 order  by 字段 排序关键词; 查询结果按照字段排序关键词排序<br>排序关键词:<br>asc    升序排列，从小到大（默认）<br>desc    降序排列，从大到小</p>
<p>select 字段 from 表 order  by 字段1 排序关键词,… …字段n desc|asc;<br>order by 后面可以跟多个不同的字段排序，并且排序字段的不同结果集的顺序也不同，<br>如果排序字段的值一样，则值相同的字段按照第二个排序字段进行排序。</p>
<p>select 字段 from 表  limit 数量; 对于查询或者排序后的结果集，如果希望只显示一部分而不是全部，使用 limit 关键字结果集数量限制。<br>select 字段 from 表 order by 字段 关键词 limit 数量; 限制结果集并排序<br>select 字段 from 表  limit 偏移量,数量; 结果集区间选择，偏移量从0开始，0是第一条数据<br>select 函数(字段) from 表; 从表中将按字段查询的结果进行函数处理<br>函数<br>sum    求和<br>count    统计总数<br>max    最大值<br>min    最小值<br>avg    平均值</p>
<p>select <em> from 表 group by 字段;    将表中数据按字段分组<br>select </em> from 表 group by 字段 having 条件; 分组结果再过滤。having 是筛选组 而where是筛选记录<br>例：统计省份数量后再进行分组显示： select count(province),province  from money group by province;</p>
<p>整体的SQL语句配合使用的语法结构如下：<br>SELECT<br>     [字段1 [as 别名1],[函数(字段2) ,]……字段n]<br> FROM 表名<br> [WHERE where条件]<br> [GROUP BY 字段]<br> [HAVING where_contition]<br> [order 条件]<br> [limit 条件]<br> 例<br> 查询money表字段：id,username,balance,province 要求id&gt;1 余额大于50，使用地区进行分组。我们使用用户id进行降序，要求只准显示3条。<br> select id,username,balance,province from money where id &gt; 1 and balance &gt; 50 group by province order by id desc limit 3;</p>
<h1 id="多表联合查询"><a href="#多表联合查询" class="headerlink" title="多表联合查询"></a>多表联合查询</h1><h2 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h2><p>将两个表中存在联结关系的字段符合联结关系的那些记录形成记录集的联结。<br>基本语法1：<br>select 表1.字段 [as 别名],表n.字段  from 表1 [别名],表n where 条件;<br>取满足条件的数据的在各表中的各字段<br>例<br>select user.uid ,user.username as username,order_goods.oid,order_goods.uid,order_goods.name as shopname from user,order_goods  where user.uid = order_goods.uid;<br>若表user中某条数据x的uid与表order_goods中的某条数据y的uid相同,则取出user表中数据x的 uid、username，取出order_goods中数据y的uid,name,其中order_goods的name的值以shopname的值显示<br>基本语法2：<br>select 表1.字段 [as 别名],表n.字段  from 表1 INNER JOIN 表n on  条件;<br>例<br>select user.uid ,user.username as username,order_goods.oid,order_goods.uid,order_goods.name as shopname from user inner join order_goods  on  user.uid = order_goods.uid;<br>效果同基本语法1</p>
<p>##　外连接<br>会选出其他不匹配的记录，分为外左联结和外右联结。<br>左连接：包含所有的左边表中的记录甚至是右边表中没有和它匹配的记录<br>select 表1.字段 [as 别名],表n.字段  from 表1 LEFT JOIN 表n on  条件;<br>例<br>select *  from user left join order_goods  on  user.uid = order_goods.uid;<br>以左边ｕｓｅｒ为主，查询哪些用户未购买过商品，并将用户信息显示出来，ｕｓｅｒ表全部显示</p>
<p>右连接：包含所有的右边表中的记录甚至是右边表中没有和它匹配的记录<br>select 表1.字段 [as 别名],表n.字段  from 表1 right JOIN 表n on  条件;<br>例<br>select *  from user right join order_goods  on  user.uid = order_goods.uid;<br>查询商品表中哪些用户购买过商品，并将用户信息显示出来，order_goods全部显示</p>
<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p>需要的条件是另外一个select语句的结果，即使用子查询<br>用于子查询的关键字包括in、not in、=、!=、exists、not exists等。<br>select 字段  from 表 where 字段 in(条件)<br>例<br>select *  from user where uid in (select uid from order_goods);<br>从order_goods取出uid这一列，将uid在user中对应的数据取出来</p>
<h2 id="记录联合"><a href="#记录联合" class="headerlink" title="记录联合"></a>记录联合</h2><p>使用 union 和 union all 关键字，将两个表的数据按照一定的查询条件查询出来后，将结果合并到一起显示。<br>union all 把结果直接合并在一起<br>union 是将 union all 后的结果进行一次distinct，去除重复记录后的结果。</p>
<h1 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h1><p>使用update<br>update 表名 set 字段1=值1,字段2=值2,字段n=值n where 条件；<br>例<br>update emp set  balance=balance-500 where userid = 15;<br>将emp表中userid为15的数据的balance减15<br>同时对两个表进行更新<br>update 表1,表2 set 字段1=值1,字段2=值2,字段n=值n where 条件<br>例<br>update money m,user u m.balance=m.balance<em>u.age where m.userid=u.id;<br>修改money，将money表的别名设置为m；user表的别名设置为u；将m表的余额改为m表的balance</em>用户表的age。执行条件是：m.userid = u.id</p>
<h1 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h1><p>用delete<br>DELETE FROM 表 [where 条件];<br>删除时如果不加where条件，会清空掉整个表的记录，返回被删除的记录数</p>
<p>清空表 如果使用，<br>truncate table 表名;<br>表中若有自增字段，这个自增字段会将起始值恢复成1</p>
<h1 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h1><h2 id="添加权限"><a href="#添加权限" class="headerlink" title="添加权限"></a>添加权限</h2><p>grant 权限 on 库.表 to ‘用户‘@’主机’ identified by ‘密码’;<br>grant select, insert on test.* to ‘liwenkai‘@’localhost’ identified by ‘4311’;<br>给予liwenkai用户，在本机连接test库所有表的权限。操作的这些表具有查询和写入权限</p>
<h2 id="删除权限"><a href="#删除权限" class="headerlink" title="删除权限"></a>删除权限</h2><p>revoke 权限 on 库.表 from ‘用户‘@’主机’;<br>revoke select, insert on test.* to ‘liwenkai‘@’localhost’ identified by ‘4311’;<br>给予liwenkai用户，在本机连接test库所有表的权限。操作的这些表具有查询和写入权限</p>
<h2 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h2><p>grant all        在grant后接all说明给予所有权限<br>revoke all       在revoke后接all说明删除所有权限<br>权限 on .        . 所明给予所有库所有表的操作权限<br>‘用户‘@’主机’    主机里面若为%。任意来源的主机均可以使用这个用户来访问</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoohannah.github.io/post/php/php_MySQLuse.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YooHannah">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/psb.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="My Little World">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="My Little World" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/php/php_MySQLuse.html" itemprop="url">
                  php中MySQL的使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-26T21:37:37+08:00">
                2017-05-26
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="php连接数据库"><a href="#php连接数据库" class="headerlink" title="php连接数据库"></a>php连接数据库</h1><p>查看数据库主机，用户名<br>use myaql；<br>select Host from user;<br>select user from user;</p>
<h2 id="连接数据库服务器"><a href="#连接数据库服务器" class="headerlink" title="连接数据库服务器"></a>连接数据库服务器</h2><p>mysql_connect函数<br>$con = mysql_connect(“localhost”,”peter”,”abc123”);<br>参数1    主机<br>参数2    数据库服务器登陆名<br>参数3    密码<br>参数4    数据库的名称<br>参数5    数据库服务器端口不填默认3306</p>
<p>若参数4，数据库名称在此步已填并择，不需要执行第三步</p>
<h2 id="判断链接是否正常"><a href="#判断链接是否正常" class="headerlink" title="判断链接是否正常"></a>判断链接是否正常</h2><p>如果有错误，存在错误号<br>if (mysql_errno($conn)) {<br>   echo mysql_error($conn);<br>   exit;<br>}</p>
<p>mysql_errno 返回连接错误号，无错误返回0<br>参数1    传入mysql_connect返回的资源</p>
<p>mysql_error 返回连接错误字符串<br>参数1    传入mysql_connect返回的资源</p>
<h2 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h2><p>mysql_select_db函数<br>mysql_select_db(‘user’,$conn);<br>参数1    传入mysql_connect返回的资源<br>参数2    需要连接的数据库名</p>
<h2 id="设置字符集"><a href="#设置字符集" class="headerlink" title="设置字符集"></a>设置字符集</h2><p>mysql_set_charset<br>mysql_set_charset(‘utf8’,$conn);<br>参数1    字符集类型<br>参数2    传入mysql_connect返回的资源</p>
<h2 id="准备SQL语句"><a href="#准备SQL语句" class="headerlink" title="准备SQL语句"></a>准备SQL语句</h2><p>要传入数据库的操作语句<br>注意参数如何拼接</p>
<p>如果是int类型的就使用<br>$sql=”insert into user(mycon) values(“.$my_con.”)”;<br>//或者<br>$sql=’insert into user(mycon) values(‘.$my_con.’)’;</p>
<p>如果是字符型的就要使用单引号或者双引号括起来<br>$sql=”insert into user(mycon) values(‘“.$my_con.”‘)”;<br>//或者这样写<br>$sql=’insert into user(mycon) values(“‘.$my_con.’”)’;</p>
<p>多个<br>$sql = “INSERT INTO user (username,password,createtime,createip)<br>values<br>(‘“ . $username . “‘,’” . $password . “‘,” . $time . “,’” . $ip . “‘)”;</p>
<h2 id="发送SQL语句"><a href="#发送SQL语句" class="headerlink" title="发送SQL语句"></a>发送SQL语句</h2><p>$result = mysql_query($sql,$conn);</p>
<h2 id="根据不同操作，判断执行是否正常或者遍历数据"><a href="#根据不同操作，判断执行是否正常或者遍历数据" class="headerlink" title="根据不同操作，判断执行是否正常或者遍历数据"></a>根据不同操作，判断执行是否正常或者遍历数据</h2><p>发送的是select类别的语句，通常需要将结果输出显示出来。就需要用到遍历显示数据的函数<br>函数    mysql_fetch_array<br>功能    得到result结果集中的数据，返回数组进行便利<br>参数1    传入查询出来的结果变量<br>参数2    传入MYSQLI_NUM返回索引数组，MYSQLI_ASSOC返回关联数组，MYSQLI_BOTH返回索引和关联</p>
<p>函数    mysql_fetch_assoc<br>功能    得到result结果集中的数据，返回关联数组进行便利<br>参数1    传入查询出来的结果变量</p>
<p>函数    mysql_fetch_row<br>功能    得到result结果集中的数据，返回索引数组进行便利<br>参数1    传入查询出来的结果变量</p>
<p>函数    mysql_fetch_object<br>功能    得到result结果集中的数据，返回对象进行遍历<br>参数1    传入查询出来的结果变量</p>
<p>函数    mysql_num_rows<br>功能    返回查询出来的结果总数<br>参数1    传入查询出来的结果变量</p>
<p>函数    sql_num_rows<br>功能    返回查询出来的结果总数<br>参数1    传入查询出来的结果变量</p>
<p>如果发送的是insert的语句，通常需要得到是否执行成功，或者同时拿到自增的ID。<br>函数    mysqli_fetch_field<br>功能    遍历数据行<br>参数1    传入查询出来的结果变量</p>
<p>如果发送的是update和delete类别的语句。只需要判断是否执行成功即可。</p>
<p>if ($result) {<br>   echo ‘成功’;<br>} else {<br>    echo $sql;//查看是否是SQL语句拼接有问题<br>  echo ‘失败’;<br>}</p>
<h2 id="关闭数据库"><a href="#关闭数据库" class="headerlink" title="关闭数据库"></a>关闭数据库</h2><p>函数    mysqli_close<br>功能    关闭数据库连接<br>参数1    传入mysqli_connect返回的资源</p>
<p>mysql_close($conn);//关闭数据库</p>
<h1 id="显示服务器信息函数"><a href="#显示服务器信息函数" class="headerlink" title="显示服务器信息函数"></a>显示服务器信息函数</h1><p>函数    mysqli_get_server_info<br>功能    返回服务器信息<br>参数1    传入mysqli_connect返回的资源</p>
<p>函数    mysqli_get_server_version<br>功能    返回服务器版本<br>参数1    传入mysqli_connect返回的资源</p>
<p><a href="https://github.com/YooHannah/algorithm/blob/master/php/registration/connect.php" target="_blank" rel="noopener">一个用户注册的代码链接</a></p>
<h2 id="数据显示乱码终极解决办法"><a href="#数据显示乱码终极解决办法" class="headerlink" title="数据显示乱码终极解决办法"></a>数据显示乱码终极解决办法</h2><p>多个不同的文件系统中一定要统一编码。<br>9个要点分别是：<br>    1.html编码与MySQL编码一致<br>    2.PHP编码与MySQL编码一致<br>    3.若有header头发送字符集，请与数据库一样<br>      如果php中有header头，一定要是utf-8的<br>      header(‘content-type:text/html;charset=utf-8’);<br>    4.&lt;meta http-equiv=“Content-Type”content=“text/html; charset=utf-8” /&gt;要和页面的文字编码一致<br>    5.数据库建库的字符集要统一<br>    6.表的字符集要统一<br>    7.列的字符集要统一(表设了,列就默认写表的)<br>    8.连接,校验的字符集要统一<br>      通过mysqli_set_charset(‘utf8’)来MySQL连接、结果和校验的字符集设置。<br>      注：数据库的字符集声明和文件中的略有不同。utf8为mysql数据库的，utf-8为文件中使用的<br>    9.结果集的字符集要统一</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoohannah.github.io/post/php/php_imge.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YooHannah">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/psb.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="My Little World">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="My Little World" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/php/php_imge.html" itemprop="url">
                  图片上传
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-02T22:22:37+08:00">
                2017-05-02
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="用函数画图"><a href="#用函数画图" class="headerlink" title="用函数画图"></a>用函数画图</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//创建图片</span><br><span class="line">$img = imagecreatetruecolor(500, 500);</span><br><span class="line"></span><br><span class="line">//分配颜色 为图片准备需要用到的颜色</span><br><span class="line">$red = imagecolorallocate($img, 255, 0, 0);</span><br><span class="line"></span><br><span class="line">$green = imagecolorallocate($img, 0, 255, 0);</span><br><span class="line"></span><br><span class="line">$blue = imagecolorallocate($img, 0, 0, 255);</span><br><span class="line"></span><br><span class="line">$pur = imagecolorallocate($img, 255, 0, 255);</span><br><span class="line"></span><br><span class="line">$yellow = imagecolorallocate($img, 121, 72, 0);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//填充背景 (0,0)(500,500)指图片左上角和右下角两点，从而确定图片的矩形</span><br><span class="line">imagefilledrectangle($img, 0, 0, 500, 500, $green);</span><br><span class="line"></span><br><span class="line">//画对角线 对角线起始点坐标</span><br><span class="line">imageline($img, 0, 0, 500, 500, $red);</span><br><span class="line">imageline($img, 500, 0, 0, 500, $blue);</span><br><span class="line"></span><br><span class="line">//画圆</span><br><span class="line">//bool imagefilledellipse ( resource $图片资源 , int $圆心x , int $圆心y , int $圆的宽 , int $圆的高 , int $圆的颜色 )</span><br><span class="line">imagefilledellipse($img, 250, 250, 200, 200, $yellow);</span><br><span class="line"></span><br><span class="line">//圆中间画矩形，同样通过左上角右下角确定矩形</span><br><span class="line">imagefilledrectangle($img, 200, 200, 300, 300, $blue);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//保存图片，图片名为haha.jpg</span><br><span class="line">imagejpeg($img, &apos;haha.jpg&apos;);</span><br><span class="line"></span><br><span class="line">//销毁资源</span><br><span class="line">imagedestroy($img);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h1 id="画验证码"><a href="#画验证码" class="headerlink" title="画验证码"></a>画验证码</h1><p><a href="https://github.com/YooHannah/algorithm/blob/master/php/Verificationcode.php" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="图片加水印"><a href="#图片加水印" class="headerlink" title="图片加水印"></a>图片加水印</h1><p>bool imagecopymerge ( resource $目标图片 , resource $来源图片, int $目标开始的x , int $目标开始的y, int $来源的x , int $来源的y , int $来源的宽 , int $来源的高 , int $透明度)<br>注意：<br>透明度的值为0-100的整数。imagecopy和imagecopymerge的区别在于一个有透明度，一个没有透明度。<br>大致步骤：<br> 1.打开原图（也叫操作的目标图片）<br> 2.打开水印图（也叫水印来源图片）<br> 3.使用 imagecopymerge 将小图合并至大图的指定位置<br> 4.输出图片<br> 5.销毁资源<br> <a href="https://github.com/YooHannah/algorithm/blob/master/php/Watermark.php" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="图像放缩和裁剪"><a href="#图像放缩和裁剪" class="headerlink" title="图像放缩和裁剪"></a>图像放缩和裁剪</h1><p>操作方式说明：<br>从来源图片的开始点(x,y)起，指定的宽高的大小图片。放至到目标图片的起点(x,y)，指定宽高大小的图片中。</p>
<h2 id="缩放图片"><a href="#缩放图片" class="headerlink" title="缩放图片"></a>缩放图片</h2><p>imagecopyresampled    重采样拷贝部分图像并调整大小<br>bool imagecopyresampled ( resource $目标图 , resource $来源图 , int $目标开始的x位置 , int $目标开始的y位置 , int $来源开始的x位置 , int $来源开始的y位置 , int $目标图片的宽 , int $目标图片的高, int $来源图片的宽 , int $来源图片的高 )<br>大致步骤：<br>1.打开来源图片<br>2.设置图片缩放百分比（缩放）<br>3.获得来源图片，按比调整大小<br>4.新建一个指定大小的图片为目标图<br>5.将来源图调整后的大小放到目标中<br>6.销毁资源<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//打开来源图片</span><br><span class="line">$image = imagecreatefrompng(&apos;fbb.png&apos;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//定义百分比，缩放到0.1大小</span><br><span class="line">$percent = 0.1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 将图片宽高获取到</span><br><span class="line">list($width, $height) = getimagesize(&apos;fbb.png&apos;);</span><br><span class="line"></span><br><span class="line">//设置新的缩放的宽高</span><br><span class="line">$new_width = $width * $percent;</span><br><span class="line">$new_height = $height * $percent;</span><br><span class="line"></span><br><span class="line">//创建新图片</span><br><span class="line">$new_image = imagecreatetruecolor($new_width, $new_height);</span><br><span class="line"></span><br><span class="line">//将原图$image按照指定的宽高，复制到$new_image指定的宽高大小中</span><br><span class="line">imagecopyresampled($new_image, $image, 0, 0, 0, 0, $new_width, $new_height, $width, $height);</span><br><span class="line"></span><br><span class="line">header(&apos;content-type:image/jpeg&apos;);</span><br><span class="line">imagejpeg($new_image);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="裁剪图片"><a href="#裁剪图片" class="headerlink" title="裁剪图片"></a>裁剪图片</h2><p>imagecopyresized    拷贝部分图像并调整大小<br>bool imagecopyresized ( resource $目标图 , resource $来源图 , int $目标开始的x位置 , int $目标开始的y位置 , int $来源开始的x位置 , int $来源开始的y位置 , int $目标图片的宽 , int $目标图片的高, int $来源图片的宽 , int $来源图片的高 )<br>大致步骤：<br> 1.打开来源图片和目标图片<br> 2.截取来源图片中的点，设置宽高。放至到目标图片中。（裁剪）<br> 3.保存图片输入<br> 4.销毁资源</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"> $dst = imagecreatefrompng(&apos;hsq.png&apos;);</span><br><span class="line"> $src = imagecreatefrompng(&apos;du.png&apos;);</span><br><span class="line"> imagecopyresized($dst, $src, 281, 71, 407, 154, 132, 160, 80, 90);</span><br><span class="line"> header(&apos;content-type:image/jpeg&apos;);</span><br><span class="line">imagejpeg($dst);</span><br><span class="line">imagedestroy($dst);</span><br><span class="line"> imagedestroy($src);</span><br><span class="line"> ?&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoohannah.github.io/post/php/php_fileupload.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YooHannah">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/psb.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="My Little World">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="My Little World" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/php/php_fileupload.html" itemprop="url">
                  文件上传
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-02T22:21:37+08:00">
                2017-05-02
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="修改php-ini文件配置"><a href="#修改php-ini文件配置" class="headerlink" title="修改php.ini文件配置"></a>修改php.ini文件配置</h1><p>php.ini文件在不同的集成环境包中都在安装目录的php文件下,如果有多个版本php,则在每个版本里面都会有一个php.ini文件<br>配置项    功能说明<br>file_uploads    on为 开启文件上传功能，off为关闭<br>post_max_size    系统允许的POST传参的最大值<br>upload_max_filesize    系统允许的上传文件的最大值<br>memory_limit    内存使用限制<br>【建议尺寸： file_size(文件大小) &lt; upload_max_filesize &lt; post_max_size &lt; memory_limit】<br>max_execution_time 设定脚本的最大执行时间。<br>也可以根据需求做适当的改变。通常不需要来修改，系统默认值即可。超大文件上传的时候，可能会涉及到这一项参数的修改<br>上传时间太长了，会超时。如果你将此项参数设为0，则是不限制超时时间，不建议使。</p>
<h1 id="html页面"><a href="#html页面" class="headerlink" title="html页面"></a>html页面</h1><p>1.form 表单中的参数method 必须为post。若为get是无法进行文件上传的<br>2.enctype须为multipart/form-data<br><a href="https://github.com/YooHannah/algorithm/blob/master/php/fileupload/fileupload.html" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h1><p>按照数组和步骤完成文件上传<br>所有文件的信息存储在$_FILES[‘file’]中<br><a href="https://github.com/YooHannah/algorithm/blob/master/php/fileupload/file.php" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="多文件上传"><a href="#多文件上传" class="headerlink" title="多文件上传"></a>多文件上传</h1><p>写了2个或者多个input<br>将每个input name设置为”file[]”<br>对每个input上传文件后 $_FILE[‘file’]的每个属性将变成数组，依次对应每个input上传的文件</p>
<h1 id="上传进度处理"><a href="#上传进度处理" class="headerlink" title="上传进度处理"></a>上传进度处理</h1><p>首先要修改php.ini的相关配置<br>配置项    说明<br>session.upload_progress.enabled    是否启用上传进度报告(默认开启) 1为开启，0为关闭<br>session.upload_progress.cleanup    是否在上传完成后及时删除进度数据(默认开启, 推荐开启)</p>
<p>session.upload_progress.prefix[=upload_progress_]<br>进度数据将存储在_SESSION[session.upload_progress.prefix . _POST[session.upload_progress.name]]</p>
<p>session.upload_progress.name[=PHP_SESSION_UPLOAD_PROGRESS]<br>如果_POST[session.upload_progress.name]没有被设置, 则不会报告进度.</p>
<p>session.upload_progress.freq[=1%]    更新进度的频率(已经处理的字节数), 也支持百分比表示’%’.<br>session.upload_progress.min_freq[=1.0]    更新进度的时间间隔(秒)</p>
<p>文件上传的进度信息存储在$_SESSION中<br><a href="https://github.com/YooHannah/algorithm/blob/master/php/fileupload/progress.php" target="_blank" rel="noopener">代码链接</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoohannah.github.io/post/php/php_file.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YooHannah">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/psb.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="My Little World">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="My Little World" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/php/php_file.html" itemprop="url">
                  文件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-01T08:40:37+08:00">
                2017-05-01
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="读"><a href="#读" class="headerlink" title="读"></a>读</h1><p>readfile 传入一个文件路径，输出一个文件<br>int readfile ( string $文件名)</p>
<p>file_get_contents 传入一个文件或文件路径，打开这个文件返回文件的内容。文件的内容是一个字符串。<br>string file_get_contents ( string filename)</p>
<p>资源类型处理方式<br>fopen函数，打开资源，参数为文件打开路径，打开文件模式，返回资源类型<br>resource fopen ( string $文件名, string 模式)</p>
<p>fread函数 读取打开的文件资源。读取指定长度的文件资源，读取一部份向后移动一部份。至到文件结尾。<br>string fread ( resource $操作资源, int 读取长度)</p>
<p>fclose函数的功能是关闭资源。资源有打开就有关闭<br>bool fclose ( resource $操作资源 )</p>
<p>fopen的模式<br>模式    说明<br>r    只读方式打开，将文件指针指向文件头。<br>r+    读写方式打开，将文件指针指向文件头。<br>w    写入方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建<br>w+    读写方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建<br>a    写入方式打开，将文件指针指向文件末尾。如果文件不存在则尝试创建<br>a+    读写方式打开，将文件指针指向文件末尾。如果文件不存在则尝试创建之<br>x    创建并以写入方式打开，将文件指针指向文件头。如果文件已存在，则 fopen() 调用失败并返回 FALSE，并生成一条 E_WARNING 级别的错误信息。如果文件不存在则尝试创建<br>x+<br>创建并以读写方式打开，将文件指针指向文件头。如果文件已存在，则 fopen() 调用失败并返回 FALSE，并生成一条 E_WARNING 级别的错误信息。如果文件不存在则尝试创建<br>t    windows下将\n转为\r\n<br>b    二进制打开模式</p>
<h1 id="创建和修改"><a href="#创建和修改" class="headerlink" title="创建和修改"></a>创建和修改</h1><p>file_put_contents 向指定的文件当中写入一个字符串，如果文件不存在则创建文件。返回的是写入的字节长度<br>int file_put_contents ( string $文件路径, string $写入数据])</p>
<p> fwrite 配合fopen进行写入操作，写入方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建<br> int fwrite ( resource $文件资源变量, string $写入的字符串 [, int 长度])<br> 1.不论有没有新建都会打开文件重新写入<br> 2.原有的文件内容会被覆盖掉<br> 3.文件不存在会创建<br> 模式<br> x    每次写入会干掉原有文件的内容，文件不存在都会创建<br> a    每次写入都会向文件的尾端追加内容</p>
<p>  tmpfile  创建一个临时文件，返回资源类型。关闭文件即被删除<br>  resource tmpfile ( )</p>
<p>  rename 重命名文件 返回一个bool值，将旧的名字改为新的名字<br>  bool rename($旧名,$新名);</p>
<p>  copy 复制文件 将指定路径的源文件，复制一份到目标文件的位置。<br>  bool copy(源文件,目标文件)</p>
<p>  unlink 删除文件 这个删除是直接删除。使用的是windows电脑，在回收站看不到这个文件<br>  bool unlink(指定路径的文件)</p>
<h1 id="检测文件属性函数"><a href="#检测文件属性函数" class="headerlink" title="检测文件属性函数"></a>检测文件属性函数</h1><pre><code>bool file_exists ( $指定文件名或者文件路径) 功能：文件是否存在。
bool is_readable ( $指定文件名或者文件路径) 功能：文件是否可读
bool is_writeable ( $指定文件名或者文件路径) 功能：文件是否可写
bool is_executable ( $指定文件名或者文件路径) 功能：文件是否可执行
bool is_file ( $指定文件名或者文件路径) 功能：是否是文件
bool is_dir ( $指定文件名或者文件路径) 功能：是否是目录
void clearstatcache ( void ) 功能：清楚文件的状态缓存
</code></pre><h1 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h1><p>rewind ( resource handle) 指针回到开始处<br>fseek ( resource handle, int offset [, int from_where]) 文件指针向后移动指定字符<br>filesize 检测文件的大小<br>file(文件名)    把整个文件读入一个数组中<br>fgets(文件名)    从文件指针中读取一行,读到最后返回false<br>fgetc(文件名)    从文件指针中读取一个字符，读到最后返回false<br>ftruncate(文件名，长度)    将文件截断到给定的长度<br>filectime(文件名)    文件创建时间<br>filemtime(文件名)    文件修改时间<br>fileatime(文件名)    文件上次访问时间</p>
<h1 id="文件锁定"><a href="#文件锁定" class="headerlink" title="文件锁定"></a>文件锁定</h1><p>bool flock ( resource $handle , int $operation) 轻便的咨询文件锁定<br>锁类型    说明<br>LOCK_SH    取得共享锁定（读取的程序）<br>LOCK_EX    取得独占锁定（写入的程序<br>LOCK_UN    释放锁定（无论共享或独占）<br>例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$fp = fopen(&quot;demo.txt&quot;, &quot;r+&quot;);</span><br><span class="line"></span><br><span class="line">// 进行排它型锁定</span><br><span class="line">if (flock($fp, LOCK_EX)) &#123; </span><br><span class="line"></span><br><span class="line">   fwrite($fp, &quot;文件这个时候被我独占了哟\n&quot;);</span><br><span class="line"></span><br><span class="line">  // 释放锁定</span><br><span class="line">   flock($fp, LOCK_UN);    </span><br><span class="line">&#125; else &#123;</span><br><span class="line">   echo &quot;锁失败，可能有人在操作，这个时候不能将文件上锁&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fclose($fp);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="处理文件夹"><a href="#处理文件夹" class="headerlink" title="处理文件夹"></a>处理文件夹</h1><p>处理文件夹的基本思想如下：<br>1.读取某个路径的时候判断是否是文件夹<br>2.是文件夹的话，打开指定文件夹，返回文件目录的资源变量<br>3.使用readdir读取一次目录中的文件，目录指针向后偏移一次<br>4.使用readdir读取到最后，没有可读的文件返回false<br>5.关闭文件目录</p>
<p>opendir    打开文件夹，返回操作资源<br>readdir    读取文件夹资源<br>is_dir    判断是否是文件夹<br>closedir    关闭文件夹操作资源<br>filetype    显示是文件夹还是文件，文件显示file，文件夹显示dir<br>例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//设置打开的目录是D盘</span><br><span class="line">$dir = &quot;d:/&quot;;</span><br><span class="line"></span><br><span class="line">//判断是否是文件夹，是文件夹</span><br><span class="line">if (is_dir($dir)) &#123;</span><br><span class="line">   if ($dh = opendir($dir)) &#123;</span><br><span class="line"></span><br><span class="line">      //读取一次向后移动一次文件夹指针</span><br><span class="line">      echo readdir($dh).&apos;&lt;br /&gt;&apos;;</span><br><span class="line">      echo readdir($dh).&apos;&lt;br /&gt;&apos;;</span><br><span class="line">      echo readdir($dh).&apos;&lt;br /&gt;&apos;;</span><br><span class="line">      echo readdir($dh).&apos;&lt;br /&gt;&apos;;</span><br><span class="line"></span><br><span class="line">      //读取到最后返回false</span><br><span class="line"></span><br><span class="line">      //关闭文件夹资源</span><br><span class="line">       closedir($dh);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="文件权限设置"><a href="#文件权限设置" class="headerlink" title="文件权限设置"></a>文件权限设置</h1><p>函数用法与linux的权限操作的用法一样。<br>函数    功能说明<br>chmod    修改读取模式<br>chgrp    修改用户组<br>chown    修改权限</p>
<h1 id="文件路径函数"><a href="#文件路径函数" class="headerlink" title="文件路径函数"></a>文件路径函数</h1><p>array pathinfo ( string $路径)<br>功能：传入文件路径返回文件的各个组成部份<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$path_parts = pathinfo(&apos;d:/www/index.inc.php&apos;);</span><br><span class="line"></span><br><span class="line">echo &apos;文件目录名：&apos;.$path_parts[&apos;dirname&apos;].&quot;&lt;br /&gt;&quot;;//d:/www</span><br><span class="line">echo &apos;文件全名：&apos;.$path_parts[&apos;basename&apos;].&quot;&lt;br /&gt;&quot;;//index.inc.php</span><br><span class="line">echo &apos;文件扩展名：&apos;.$path_parts[&apos;extension&apos;].&quot;&lt;br /&gt;&quot;;//php</span><br><span class="line">echo &apos;不包含扩展的文件名：&apos;.$path_parts[&apos;filename&apos;].&quot;&lt;br /&gt;&quot;; //index.inc</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>string basename ( string $路径[, string $suffix ])<br>功能：传入路径返回文件名<br>第一个参数传入路径。<br>第二个参数，指定我文件名到了指定字符停止。</p>
<p>dirname(string $路径)<br>功能：返回文件路径的文件目录部份</p>
<p>mixed parse_url ( string $路径 )<br>功能：将网址拆解成各个部份</p>
<p>string http_build_query ( mixed $需要处理的数据)<br>功能：生成url 中的query字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//定义一个关联数组</span><br><span class="line">$data = [</span><br><span class="line">       &apos;username&apos;=&gt;&apos;php&apos;,</span><br><span class="line">       &apos;area&apos;=&gt;&apos;hubei&apos;</span><br><span class="line">        ];</span><br><span class="line"></span><br><span class="line">//生成query内容</span><br><span class="line">echo http_build_query($data);//username=php&amp;area=hubei</span><br></pre></td></tr></table></figure></p>
<p>http_build_url()<br>功能： 生成一个url</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoohannah.github.io/post/php/php_reg.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YooHannah">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/psb.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="My Little World">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="My Little World" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/php/php_reg.html" itemprop="url">
                  正则表达式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-30T20:04:37+08:00">
                2017-04-30
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>正则表达示主要用在以下一些地方：<br>1.匹配邮箱、手机号码、验证码<br>2.替换敏感的关键词。例如：涉及政治和骂人的话<br>3.文章采集。<br>4.早期的表情替换技术,ubb文件编码、markdown编辑器替换等<br>5.以后自己写模板引擎也需要用到正则表达示</p>
<p>正则表达式常见项目场景<br>开发工具中批量替换<br>客户端，服务端数据校验<br>客户端HTML检索（Sizzle）<br>服务端文本提取<br>数据爬虫的实现</p>
<h1 id="定界符"><a href="#定界符" class="headerlink" title="定界符"></a>定界符</h1><p>定界符，就是定一个边界，边界已内的就是正则表达示<br>定界符，不能用a-zA-Z0-9\ 其他的都可以用。必须成对出现，有开始就有结束。<br>/中间写正则/    正确<br>$中间写正则$    正确<br>%中间写正则%    正确<br>^中间写正则^    正确<br>@中间写正则@    正确<br>(中间写正则)    错误<br>A中间写正则A    错误</p>
<h1 id="匹配函数和原子"><a href="#匹配函数和原子" class="headerlink" title="匹配函数和原子"></a>匹配函数和原子</h1><p>preg_matc 函数：根据$正则变量，匹配$字符串变量。如果存在则返回匹配的个数，把匹配到的结果放到$结果变量里。如果没有匹配到结果返回0。<br>int preg_match ( string $正则 , string $字符串 [, array &amp;$结果] )</p>
<p>原子：需要匹配的内容，我们见到的空格、回车、换行、0-9、A-Za-z、中文、标点符号、特殊符号全为原子<br>特殊标志的原子：<br>原子    说明<br>\d    匹配一个0-9<br>\D    除了0-9以外的所有字符<br>\w    a-zA-Z0-9_<br>\W    除了0-9A-Za-z_以外的所有字符<br>\s    匹配所有空白字符\n \t \r 空格<br>\S    匹配所有非空白字符<br>[ ]    指定范围的原子</p>
<p>[^ 字符] 不匹配指定区间的字符^ 抑扬符在中括号里面的作用是不准以中括号里面的字符进行匹配。</p>
<p>使用原子的时候，只能够匹配一个字符</p>
<h1 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h1><p>元字符来修饰原子，实现更多次匹配<br>元字符    功能说明<br>*是代表匹配前面的一个原子，匹配0次或者任意多次前面的字符。<br>+匹配最少1次前面的字符<br>?    前面的一个字符可有可无【可选】 有或没有<br>.    更标准一些应该把点算作原子。匹配除了\n以外的所有字符<br>|    或者。注：它的优先级最低了。<br>^    必须要以抑扬符之后的字符串开始<br>$    必须要以$之前的字符结尾<br>{m}    有且只能出现m次<br>{n,m}    可以出现n到m次<br>{m,}    至少m次，最大次数不限制<br>()    改变优先级或者将某个字符串视为一个整体，匹配到的数据取出来也可以使用它</p>
<p>1.正则表达示是有边界的，这个边界是定界符的开始和结尾是正则的边界。<br>2.this是一个英文单词，后面加上一个空格，意味着这个词结束了，到达了这个词的边界<br>\b词边界，就是指匹配的字符必须要在最前或者最后。<br>\B非边界，就是匹配的字符不能在一个正则表达示的最前或者最后</p>
<h1 id="模式匹配"><a href="#模式匹配" class="headerlink" title="模式匹配"></a>模式匹配</h1><p>模式匹配符的用法如下：<br>/ 正则表达式/模式匹配符</p>
<p>模式匹配符    功能<br>i    模式中的字符将同时匹配大小写字母.</p>
<p>m    当设定了此修正符，“行起始”和“行结束”除了匹配整个字符串开头和结束外，还分别匹配其中的换行符的之后和之前。<br>    如果要匹配的字符串中没有“\n”字符或者模式中没有 ^ 或 $，则设定此修正符没有任何效果</p>
<p>s    将字符串视为单行,换行符\n作为普通字符.<br>    如果设定了此修正符，模式中的圆点元字符（.）匹配所有的字符，包括换行符。</p>
<p>x    将模式中的空白忽略.<br>    1.如果设定了此修正符，模式中的空白字符除了被转义的或在字符类中的以外完全被忽略。<br>    2.未转义的字符类外部的#字符和下一个换行符之间的字符也被忽略。</p>
<p>A    强制仅从目标字符串的开头开始匹配.<br>D    模式中的美元元字符仅匹配目标字符串的结尾.<br>U    匹配最近的字符串.</p>
<p>e 将匹配项找出来，进行替换<br>e模式也叫逆向引用。主要的功能是将正则表达式括号里的内容取出来，放到替换项里面替换原字符串。<br>使用这个模式匹配符前必须要使用到preg_replace()。<br>preg_replace的功能：使用$正则匹配项，找到$查找字符串变量。然后用$替换项变量进行替换<br>mixed preg_replace ( mixed $正则匹配项 , mixed $替换项 , mixed $查找字符串)</p>
<h1 id="常用正则函数"><a href="#常用正则函数" class="headerlink" title="常用正则函数"></a>常用正则函数</h1><p>函数名    功能<br>preg_filter    执行一个正则表达式搜索和替换<br>preg_grep    返回匹配模式的数组条目<br>preg_match    执行一个正则表达式匹配<br>preg_match_all    执行一个全局正则表达式匹配<br>preg_replace_callback_array    传入数组，执行一个正则表达式搜索和替换使用回调<br>preg_replace_callback    执行一个正则表达式搜索并且使用一个回调进行替换<br>preg_replace    执行一个正则表达式的搜索和替换<br>preg_split    通过一个正则表达式分隔字符串</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoohannah.github.io/post/php/php_array.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YooHannah">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/psb.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="My Little World">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="My Little World" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/php/php_array.html" itemprop="url">
                  数组
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-30T20:03:37+08:00">
                2017-04-30
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>数组可以存入多个不同类型的数据，是一个复合数据类型</p>
<h1 id="索引数组"><a href="#索引数组" class="headerlink" title="索引数组"></a>索引数组</h1><p>下标全为整型的数组<br>1.索引数组若不强制声明他的下标，他的下标是从0开始的。<br>2.如果指定过下标他的下标就为我指定的值。下标重复，后面的值会将前面的值覆盖，下标可以不按顺序指定<br>3.若某个值，强制指定了下标（下标为10）。在它后面加上的值，不指定下标的话。他们的下标增长规律为最大值+1。</p>
<h2 id="增"><a href="#增" class="headerlink" title="增"></a>增</h2><p>1.向索引数组中增加元素用: 数组变量名[]、数组变量名[键值]这两种方式来增加元素，每次增加的值都在数组最后一个位置<br>2.键值的增长规则与之前的规则一样。都是最大值加1的原则。</p>
<h2 id="删"><a href="#删" class="headerlink" title="删"></a>删</h2><p> 1.使用unset删除变量的方式来删除数组里面的值。<br> 2.删除了中间的值，并不会让后面的下标向前自动移动。而是原来的值为多少就为多少<br> 3.删除掉其中的某个值，新加入的值不会替换掉原来的位置，下标依然遵循最大值加1的原则。</p>
<h2 id="改"><a href="#改" class="headerlink" title="改"></a>改</h2><p>用变量名[键] = 新值。就把数组中的值定的值修改了</p>
<h2 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h2><p>1.用变量名后面接中括号的方式声明数组。数组名[] = ‘xxx’;<br>2.数组名 = [‘aaaa’,’bbbb’,’ccccc’]<br>3.数组名 = array(‘aa’,’bb’,’cc’)</p>
<h1 id="关联数组"><a href="#关联数组" class="headerlink" title="关联数组"></a>关联数组</h1><p>下标可以为字符串的数组<br>1.声明关联数组是 键名 =&gt; 值<br>2.在关联数组可以有索引数组的元素<br>3.关联数组中的索引数组的元素后再声明了无下标的元素，依然是最大值+1原则<br>增删改声明同索引数组</p>
<h1 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h1><p>数组里面元素为数组，有几层称为几维数组，元素的访问只要一层一层下标挨着写下去即可<br>例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$area = array(</span><br><span class="line">       &apos;china&apos; =&gt; array(</span><br><span class="line">           &apos;上海&apos;,</span><br><span class="line">           &apos;湖北&apos;,</span><br><span class="line">           &apos;天津&apos;,</span><br><span class="line">           &apos;北京&apos; =&gt; array(</span><br><span class="line">               &apos;hd&apos; =&gt; &apos;海淀&apos;,</span><br><span class="line">               &apos;朝阳&apos;,</span><br><span class="line">               &apos;房山&apos;,</span><br><span class="line">               &apos;cp&apos; =&gt; &apos;昌平&apos;,</span><br><span class="line">           ),//注意逗号</span><br><span class="line">           &apos;广东&apos; =&gt; array(</span><br><span class="line">               &apos;深圳&apos;,</span><br><span class="line">               &apos;广州&apos;,</span><br><span class="line">               &apos;佛山&apos;,</span><br><span class="line">               &apos;dg&apos; =&gt; &apos;东莞&apos;,</span><br><span class="line"></span><br><span class="line">           )</span><br><span class="line">       )</span><br><span class="line">       )</span><br><span class="line">访问 昌平，即$area[china][&apos;北京&apos;][&apos;cp&apos;]</span><br><span class="line">`</span><br></pre></td></tr></table></figure></p>
<h1 id="数组处理"><a href="#数组处理" class="headerlink" title="数组处理"></a>数组处理</h1><h2 id="统计数组长度-count"><a href="#统计数组长度-count" class="headerlink" title="统计数组长度 count"></a>统计数组长度 count</h2><p>int count ( mixed $变量)<br>$a[0] = 1;<br>$a[1] = 3;<br>$a[2] = 5;<br>$result = count($a);//3<br>如果是一个多维数组，这个函数只会统计当前的这一个维度的数组元素个数</p>
<h2 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h2><p>1.下标连续的索引数组<br>for($i = 0 ; $i &lt; count($num) ; $i++){<br>   echo $num[$i].’<br>‘;<br>}<br>2.下标不连续索引数组、关联数组<br>foreach( 要循环的数组变量 as [键变量 =&gt;] 值变量){<br>//循环的结构体<br>}<br>键变量可写可不写，不写每次只读取键值对的值到值变量<br>例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$data = [</span><br><span class="line">       &apos;nh&apos; =&gt; &apos;你好&apos;,</span><br><span class="line">       &apos;xx&apos; =&gt; &apos;谢谢&apos;,</span><br><span class="line">   ];</span><br><span class="line">foreach($data  as $key =&gt; $value)&#123;</span><br><span class="line">       echo $key . &apos;-------&apos; . $value . &apos;&lt;br /&gt;&apos;;</span><br><span class="line">&#125;</span><br><span class="line">foreach($data  as  $value)&#123;</span><br><span class="line">      echo  $value . &apos;&lt;br /&gt;&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>3.多维数组<br>  多层循环套嵌即可</p>
<ol start="4">
<li>list each函数<br>list:从左到右，将索引数组下标为0的元素对应变量1，下标1的元素对应变量2，依此类推。<br>list ( mixed $变量1 [, mixed $变量n ] )<br>list($one , $two , $three) = array(‘张三’ ,’李四’ ,’王五’);<br>如果list变量找到对应下标值，变量就没有对应值，<br>数组长度大于list变量数，多余的数组元素会被直接舍弃，没有变量对应</li>
</ol>
<p>each：传入一个数组。它会将其中的一个元素拆为一个新数组，元素的下标做新数组下标为0和下标为’key’的值，元素的值做新数组下标为1和下标为’value’的元素的值。每次执行这样操作一个元素。执行一次先后移动一次，同样的方式操作下一个数组元素。执行到最后，返回false。<br>array each ( array &amp;$array )<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//定义一个变量叫$temp</span><br><span class="line">$temp=[</span><br><span class="line">   &apos;11&apos;=&gt;&apos;dddddd&apos;,</span><br><span class="line">   &apos;111&apos;=&gt;&apos;gggggg&apos;,</span><br><span class="line">   ];</span><br><span class="line"></span><br><span class="line">//第一次each</span><br><span class="line">$data = each($temp);//对&apos;11&apos;=&gt;&apos;dddddd&apos;,拆分，返回数组给$data</span><br><span class="line">$data = each($temp);//对&apos;111&apos;=&gt;&apos;gggggg&apos;,拆分，返回数组给$data</span><br><span class="line">$data = each($temp);//此时，后面已没有可操作的元素了，返回false</span><br></pre></td></tr></table></figure></p>
<p>结合list和each访问数组元素<br>while(list($key,$value) = each($temp)){<br>   echo $key. ‘—–’ .$value .’<br>‘;<br>}<br>$key回去寻找下标0的元素值，$value回去寻找下标1的元素值</p>
<h2 id="常用操作函数"><a href="#常用操作函数" class="headerlink" title="常用操作函数"></a>常用操作函数</h2><p>函数名(数组名)<br>函数    功能<br>array_shift    弹出数组中的第一个元素，后面元素往前移动，返回一个元素值<br>array_unshift    向指数组的开始处压入一个或多个元素，返回的是总个数<br>array_push    向指数组末尾处压入一个或多个元素，返回的是总个数<br>array_pop    弹出数组末尾的最后一个元素<br>current    读出指针当前位置的值<br>key    读出指针当前位置的键<br>next    指针向下移<br>prev    向上移<br>reset    指针到开始处<br>end    指针到结束处</p>
<h2 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h2><p>函数名    功能<br>array_combine()    生成一个数组,用一个数组的值作为键名,另一个数组值作为值<br>range()    创建并返回一个包含指定范围的元素的数组。<br>compact()    创建一个由参数所带变量组成的数组<br>array_fill()    用给定的值生成数组<br>array_chunk()    把一个数组分割为新的数组块<br>array_merge()    把两个或多个数组合并为一个数组<br>array_slice()    在数组中根据条件取出一段值，并返回<br>array_diff()    返回两个数组的差集数组<br>array_search()    在数组中搜索给定的值，如果成功则返回相应的键名<br>array_splice()    把数组中的一部分去掉并用其它值取代<br>array_sum()    计算数组中所有值的和<br>in_array()    检查数组中是否存在某个值<br>array_key_exists()    检查给定的键名或索引是否存在于数组中<br>shuffle()    将数组打乱,保留键值<br>count()    计算数组中的单元数目或对象中的属性个数<br>array_flip()    返回一个键值反转后的数组<br>array_keys()    返回数组所有的键,组成一个数组<br>array_values()    返回数组中所有值，组成一个数组<br>array_reverse()    返回一个元素顺序相反的数组<br>array_count_values()    统计数组中所有的值出现的次数<br>array_rand()    从数组中随机抽取一个或多个元素,注意是键名<br>array_unique()    删除重复值，返回剩余数组<br>sort()    按升序对给定数组的值排序,不保留键名<br>rsort()    对数组逆向排序,不保留键名<br>asort()    对数组排序,保持索引关系<br>arsort()    对数组逆向排序,保持索引关系<br>ksort()    按键名对数组排序<br>krsort()    将数组按照键逆向排序<br>natsort()    用自然顺序算法对数组中的元素排序<br>natcasesort()    自然排序,不区分大小写<br>array_filter()    去掉数组中的空元素或者预定元素<br>extract    将键变为变量名，将值变为变量值</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoohannah.github.io/post/php/php_basic.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YooHannah">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/psb.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="My Little World">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="My Little World" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/php/php_basic.html" itemprop="url">
                  基础知识
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-30T20:02:37+08:00">
                2017-04-30
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="变量-数据类型"><a href="#变量-数据类型" class="headerlink" title="变量/数据类型"></a>变量/数据类型</h1><p>1.必须要以$开始。如变量x必须要写成$x<br>2.变量的首字母不能以数字开始<br>3.变量的名字区分大小写<br>4.变量不要用特殊符号、中文，_不算特殊符号<br>5.变量命名要有意义（别写xxx，aaa，ccc这种 变量名）</p>
<p>echo 显示命令<br>/*<br>多行注释 这里是注释区域代码<br>*/<br>//   表示单行注释</p>
<p>1.整型<br> 8进制声明： 以0开始，后面跟0-7的整数 $bajingzhi =  033145;<br> 16进制声明： 以0x开始，后面跟0-f的，0x的abcdef不区分大小写。$shiliu = 0x6ff;<br>2.布尔类型<br> true/false<br> 布尔值=false  ．<br> 整数值=0<br> 浮点数=0.0<br> 空字符串<br> 空数组<br>3.字符串<br> 用单引号声明 $zhifu = ‘曾经有操蛋的爱情摆在我面前’;<br> 用双引号声明 $str = “如果非要在滚犊子前面加上一个时间的话我愿意是马上。”;<br> 字界符声明<br>  1).在变量后面的等号写三个小于号（&lt;&lt;&lt;）。<br>  2).然后在&lt;&lt;&lt;后面写上字符（建议英文大写字符）。如下例中的：ABC<br>  3).然后换行写上任意想写的字符<br>  4).写完后，顶行。在行最开始处，再写上&lt;&lt;&lt;后面的字符和分号。如下例中的：ABC;<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$dingjie = &lt;&lt;&lt;ABC</span><br><span class="line">  因为在</span><br><span class="line">        一千年以后</span><br><span class="line">   世界</span><br><span class="line">       早&lt;br /&gt;</span><br><span class="line">      已</span><br><span class="line">   &lt;i&gt;没了我&lt;/i&gt;</span><br><span class="line">   别等到一千年以后&lt;h1&gt;世界早已忘了我&lt;/h1&gt;</span><br><span class="line">ABC;</span><br></pre></td></tr></table></figure></p>
<p>  换行在显示时显示空格，&lt;br/&gt;表示显示换行</p>
<p>1.双引号解析变量，但是单引号不解析变量。</p>
<p>2.在双引号里面插入变量，变量后面如果有英文或中文字符，它会把这个字符和变量拼接起来，视为一整个变量。要在变量后面接上特殊字符，要用空格等分开。</p>
<p>3.如果在双引号里面插变量的时候，后面不想有空格，可以拿大括号将变量包起来。</p>
<p>4.双引号解析转义字符，单引号不解析转义字符。但，单引号能解析\’ 和\</p>
<p>5.单引号效率高于双引号，尽可能使用单引号</p>
<p>6.双号和单引号可以互插！！！双引号当中插入单引号，单引号当中插入变量，这个变量会被解析。<br>$legend = ‘猛虎’;<br>$NoAlike = “心有’$legend’,细嗅蔷薇”;<br>echo $NoAlike;//心有’猛虎’,细嗅蔷薇</p>
<p>7.神奇的字符串拼接胶水——（.）点，用来拼接字符串。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">  $php = &apos;PHP中文网&apos;;</span><br><span class="line">  //中间加了空格</span><br><span class="line">  $str = $php . &apos;aaaa&apos;;</span><br><span class="line">  echo $str;//PHP中文网aaaa</span><br><span class="line">  ?&gt;</span><br></pre></td></tr></table></figure></p>
<p>8.定界符声明字符串可以解析变量，加入单双引号同样会以单双引号形式显示出来，引号中间是变量的话，同样会被解析出来。<br>4.浮点型<br>  小数<br>  var_dump() 是一个函数。向括号()中间插入变量。这个函数，会打印出来数据类型，还会对应显示变量的长度和值。<br>  例<br>  $f1 = 1;<br>  var_dump($f1);//int(1)<br>  $f1 = 1.2;<br>  var_dump($f1);//float(1.2)<br>  两个浮点型数据不能作比较，因为实际比较值不确定<br>5.null<br>  主要有以下三空情况会产生空（null）类型：</p>
<p>1.通过变量赋值明确指定为变量的值为NULL</p>
<p>2.一个变量没有给任何值</p>
<p>3.使用函数unset()将变量销毁掉<br>empty()可以向括号中间传入一个变量。这个变量的值如果为false或者为null的话，返回true。<br>isset()可以向括号中间传入一个或者多个变量，变量与变量间用逗号分开。只要有有一个变量为null，则返回false。否则，则返回true。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$jia = false;</span><br><span class="line">$result = isset($jia);</span><br><span class="line">var_dump($result);//bool(true)</span><br></pre></td></tr></table></figure></p>
<p>unset()这个函数的功能是毁掉变量。unset(变量)括号中间插入想要毁掉的变量名，这个变量就会被毁掉。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$iphone = &apos;手机&apos;;</span><br><span class="line"> unset($iphone);</span><br><span class="line"> var_dump($iphone);//null</span><br></pre></td></tr></table></figure></p>
<p>6.数组<br>  一个或者多个值<br>  一个或者多个值用逗号分开<br>  $shu = array(1,2,3);<br>7.资源类型<br>  资源就提操作我们可见和不可见的文件、网络和数据</p>
<h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><p>gettype(传入一个变量) 返回变量的类型。$type = gettype($float);<br>数据类型判断<br>is_int 是否为整型<br>is_bool 是否为布尔<br>is_float 是否是浮点<br>is_string 是否是字符串<br>is_array 是否是数组<br>is_object 是否是对象<br>is_null 是否为空<br>is_resource 是否为资源<br>is_scalar 是否为标量<br>is_numeric 是否为数值类型<br>is_callable 是否为函数</p>
<p>布尔值判断时的自动类型转换：<br>1，整型的0为假，其他整型值全为真<br>2, 浮点的0.0，布尔值的假。小数点后只要有一个非零的数值即为真。<br>3，空字符串为假，只要里面有一个空格都算真。<br>4，字符串的0，也将其看作是假。其他的都为真<br>5，空数组也将其视为假，只要里面有一个值，就为真。<br>6，空也为假<br>7, 未声明成功的资源也为假</p>
<p>运算自动类型转换:<br>布尔型：整型、浮点型<br>字符串：整型、浮点型</p>
<p>强制类型转换有三种方式：<br>    1.用后面的三个函数可以完成类型转换，intval()、floatval()、strval()<br>    2.变量前加上()里面写上类型，将它转换后赋值给其他变量<br>    3.settype(变量，类型) 直接改变量本身<br>转换结果：<br>1.空转为整型会为整型的0<br>2.空转为浮点会为浮点的0<br>3.空转为字符串会为空字符串‘’<br>4.浮点的123.0转为字符串会为字符串123<br>5.浮点的123.2转为字符串会为字符串的123.2<br>6.浮点即使小数点再大，它都会被干掉，会舍掉小数点后面的值<br>7.如果字符串转为整型的时候，如果数值在前面，会将前面的数值拿出来做为整型的转换值。<br>8.settype(变量,’null’); 等价于 unset()一个变量<br>9.$目标变量 = (类型)$操作变量 只会改变目标变量的类型，不会改变原变量的类型，Settype是改变原值</p>
<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>define(常量名，常量值) 定义常量<br>注：<br>    1.常量值只能为上一章中我们讲到的标量。<br>    2.常量名可以小写，但是通常大写<br>    3.常量名可以不加引号，但是通常加上引号。<br>    4.在字符串中调用常量的时候，必须在引号外面<br>    5.常量名建议只用字母和下划线</p>
<h2 id="内置常量"><a href="#内置常量" class="headerlink" title="内置常量"></a>内置常量</h2><p>LINE  当前所在的行<br>FILE  当前文件在服务器的路径<br>FUNCTIOIN 当前函数名<br>CLASS 当前类名<br>METHOD  当前成员方法名<br>PHP_OS  PHP运行的操作系统<br>PHP_VERSION 当前PHP的版本<br>TRAIT Trait 的名字,php5.4新加<br>DIR 文件所在的目录<br>NAMESPACE 当前命名空间的名称（区分大小写）</p>
<h2 id="可变变量"><a href="#可变变量" class="headerlink" title="可变变量"></a>可变变量</h2><p>已声明的变量前，再加上变量符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//定义了一个变量叫作 $shu 将$shu这个变量的值设为字符串的biao</span><br><span class="line">$shu = &apos;biao&apos;;</span><br><span class="line">//定义了一个【变量】$biao。将他的值设置为鼠标</span><br><span class="line">$biao = &apos;鼠标&apos;;</span><br><span class="line">//$$shu 就是可变变量：在已声明的变量$shu前又加上了一个变量符</span><br><span class="line">echo $$shu;//&apos;鼠标&apos;</span><br></pre></td></tr></table></figure></p>
<p>即$shu 是biao,$biao是’鼠标’<br>还可以加多个$即一层层替换过去就行</p>
<h2 id="外部变量"><a href="#外部变量" class="headerlink" title="外部变量"></a>外部变量</h2><p>$_GET 将得到get方法传值的数据 参数会显示在URL(网址栏)上。 $u = $_GET[‘username’];<br>$_POST 将得到post方法传值的数据 通过浏览器的请求头文件传递的数据，不会显示在url上。 $u = $_POST[‘username’];<br>$_REQUEST即可以接收get传值也可以接收post传值。 $u = $_REQUEST[‘username’];<br>$_COOKIE  得到会话控制中cookie传值<br>$_SESSION 得到会话控制中session的值<br>$_FILES 得到文件上传的结果<br>以上这些变量全是超全局的。在任何环境都能用</p>
<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><p>$_SERVER<br>$_SERVER[“REQUEST_METHOD”]  请求当前PHP页面的方法<br>$_SERVER[“REQUEST_URI”] 请求的URI<br>$_SERVER[“SERVER_SOFTWARE”] 用的是哪一种服务器<br>$_SERVER[“REMOTE_ADDR”] 客户的IP地址<br>$_SERVER[“SERVER_ADDR”] 当前服务器的IP地址<br>$_SERVER[“SCRIPT_FILENAME”] 主前请求文件的路径<br>$_SERVER[“HTTP_USER_AGENT”] 当前访问这个网址的电脑和浏览器的情况<br>$_SERVER[“HTTP_REFERER”]  上级来源（用户从哪个地址进入当前网页的）<br>$_SERVER[“REQUEST_TIME”]  当前的时间<br>URI 和URL都是网址，但是URL带有了主机地址部份，而URI不带主机地址部份，例如：<br><a href="http://www.php.cn/abc.php?username=php" target="_blank" rel="noopener">http://www.php.cn/abc.php?username=php</a> 是一个URL（统一资源定位符），<br>而URI是不带主机和(http://)协议的部份：abc.php?username=php</p>
<h2 id="变量引用"><a href="#变量引用" class="headerlink" title="变量引用"></a>变量引用</h2><p>情况1：<br>$fo = 5;<br>//$fo的值为5，将5赋值<br>$bar = $fo;<br>//$bar的值原来为5，现在将值改为6<br>$bar = 6;<br>//$bar的结果为6<br>echo $bar.’<br>‘;<br>//$fo的结果为5<br>echo $fo.’<br>‘;<br>情况2：<br>$fo = 5;<br>//注意，加上了一个&amp;符哟<br>$bar = &amp;$fo;<br>$bar = 6;<br>//$bar的结果为6<br>echo $bar.’<br>‘;<br>//$fo的结果为6<br>echo $fo.’<br>‘;</p>
<h2 id="算数运算"><a href="#算数运算" class="headerlink" title="算数运算"></a>算数运算</h2><p>+ 加号  $x + $y<br>- 减号  $x - $y<br>* 乘号,乘以 $x * $y<br>/ 除号,除以 $x / $y<br>% 取余也叫取模、求模 $x % $y<br>优先级：先乘除，后加减<br>改变优先级，那就用()，将想要优先的值给括起来</p>
<h2 id="赋值运算"><a href="#赋值运算" class="headerlink" title="赋值运算"></a>赋值运算</h2><table>
<thead>
<tr>
<th style="text-align:center">符号</th>
<th style="text-align:center">举例</th>
<th style="text-align:center">等价式</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+＝</td>
<td style="text-align:center">$x +＝ $y</td>
<td style="text-align:center">$x ＝ $x + $y</td>
</tr>
<tr>
<td style="text-align:center">-＝</td>
<td style="text-align:center">$x -＝ $y</td>
<td style="text-align:center">$x ＝ $x - $y</td>
</tr>
<tr>
<td style="text-align:center">*＝</td>
<td style="text-align:center">$x *＝ $y</td>
<td style="text-align:center">$x ＝ $x * $y</td>
</tr>
<tr>
<td style="text-align:center">/＝</td>
<td style="text-align:center">$x /＝ $y</td>
<td style="text-align:center">$x ＝ $x / $y</td>
</tr>
<tr>
<td style="text-align:center">%＝</td>
<td style="text-align:center">$x %＝ $y</td>
<td style="text-align:center">$x ＝ $x % $y</td>
</tr>
<tr>
<td style="text-align:center">.＝</td>
<td style="text-align:center">$x .＝ $y</td>
<td style="text-align:center">$x ＝ $x . $y</td>
</tr>
</tbody>
</table>
<p>例.<br>$x = 5;<br>$y = 8;<br>$x .= $y;<br>echo $x; //58</p>
<h2 id="自加自减"><a href="#自加自减" class="headerlink" title="自加自减"></a>自加自减</h2><p>$x++  先赋值后加<br>$x–  先赋值后减<br>++$x  先加后赋值<br>–$x  先减后赋值</p>
<h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><p>大于  &gt;<br>小于  &lt;<br>大于等于  &gt;=<br>小于等于  &lt;=<br>不等于  !=<br>等于  ==（赋值是=号，所以＝＝规定为等于）5==‘5’ =&gt;true<br>全等（判断类型等于）  ===<br>全不等（判断类型不等于）  !==</p>
<h2 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h2><p>x and $y  逻辑与（并且关系） $x 和$y 为真则返回真<br>$x &amp;&amp; $y  同上  同上<br>$x or $y  逻辑或 $x,$y均为false时为假，其他情况全为真<br>$a||$b  同上  同上<br>!$x 逻辑非 取反，即true变为false，false变为true<br>$x xor $y 逻辑异或  相同取false，相异为true<br>短路<br>逻辑与：如果前面第一个条件为false了，后面就可以不用执行了。<br>逻辑或：前面第一个条件为true了，后面就不用执行了<br>但是注意<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.</span><br><span class="line">$x = false;</span><br><span class="line">$y = 2;</span><br><span class="line">if($x &amp; $y++)&#123;</span><br><span class="line">   echo &apos;真&apos;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">   echo &apos;假&apos;;</span><br><span class="line">&#125;</span><br><span class="line">echo $y; //假3</span><br><span class="line">2.</span><br><span class="line">$x = true;</span><br><span class="line">$y = 2;</span><br><span class="line">if($x | $y++)&#123;</span><br><span class="line">   echo &apos;真&apos;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">   echo &apos;假&apos;;</span><br><span class="line">&#125;</span><br><span class="line">echo $y; //真3</span><br></pre></td></tr></table></figure></p>
<h2 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h2><p>$a &amp; $b And（按位与）  将把 $a 和 $b 中都为 1 的位设为 1。<br>$a | $b Or（按位或） 将把 $a 和 $b 中任何一个为 1 的位设为 1。<br>$a ^ $b Xor（按位异或） 将把 $a 和 $b 中一个为 1 另一个为 0 的位设为 1。<br>~ $a  Not（按位取反） 将 $a 中为 0 的位设为 1，反之亦然。<br>$a &lt;&lt; $b  左移  将 $a 中的位向左移动 $b 次（每一次移动都表示“乘以 2”）。<br>$a &gt;&gt; $b  右移  将 $a 中的位向右移动 $b 次（每一次移动都表示“除以 2”）。</p>
<h2 id="三元运算符和其他运算符"><a href="#三元运算符和其他运算符" class="headerlink" title="三元运算符和其他运算符"></a>三元运算符和其他运算符</h2><p>$x? 真代码段:假代码段 判断是否为真假 ? 真情况 : 假情况;<br><code></code>（反引号） 反引号中间插代命令，执行系统命令，等价于shell_exec函数<br>@ 单行抑制错误，把这一行的错误不让它显示出来了，效率低不建议使用<br>=&gt;  数组下标访问符<br>-&gt;  对象访问符<br>instanceof  判断某个对象是否来自某个类，如果是的返回true，如果不是返回false</p>
<h1 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h1><h2 id="if、else-语法"><a href="#if、else-语法" class="headerlink" title="if、else 语法"></a>if、else 语法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">1.</span><br><span class="line">&lt;?php</span><br><span class="line">if(布尔条件)</span><br><span class="line">   布尔值为真(true)时执行，只能写一行代码;</span><br><span class="line">?&gt;</span><br><span class="line">2.</span><br><span class="line">&lt;?php</span><br><span class="line">if(布尔条件)</span><br><span class="line">   布尔值为真(true)时执行，只能写一行代码;</span><br><span class="line">else</span><br><span class="line">   布尔值为假(false)时执行，只能写一行代码;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">if(布尔条件)&#123;</span><br><span class="line">   布尔值为真(true)时执行，多行代码;</span><br><span class="line">   &#125;</span><br><span class="line">else&#123;</span><br><span class="line">  布尔值为假(false)时执行，多行代码;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">3.</span><br><span class="line">&lt;?php</span><br><span class="line">if（判断语句1）&#123;</span><br><span class="line">    执行语句体1</span><br><span class="line">&#125;elseif(判断语句2)&#123;</span><br><span class="line">    执行语句体2</span><br><span class="line">&#125;else if(判断语句n)&#123;</span><br><span class="line">        执行语句体n</span><br><span class="line">&#125;else&#123;</span><br><span class="line">        最后的else语句可选</span><br><span class="line">&#125;</span><br><span class="line">//后续代码</span><br><span class="line">?&gt;</span><br><span class="line">4.</span><br><span class="line">&lt;?php</span><br><span class="line">if(判断1)&#123;</span><br><span class="line">    if(判断2)&#123;</span><br><span class="line">            代码段 1</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">            代码段2</span><br><span class="line">        &#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    if(判断3)&#123;</span><br><span class="line">            代码段3</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            代码段4</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h2 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">switch(变量)&#123;    //字符串，整型</span><br><span class="line">       case 具体值:</span><br><span class="line">               执行代码;</span><br><span class="line">               break;</span><br><span class="line">       case 具体值2：</span><br><span class="line">               执行代码2;</span><br><span class="line">               break;</span><br><span class="line">       case 具体值3：</span><br><span class="line">               执行代码3;</span><br><span class="line">               break;</span><br><span class="line">       default:</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h2 id="循环结构和相关关键字语句"><a href="#循环结构和相关关键字语句" class="headerlink" title="循环结构和相关关键字语句"></a>循环结构和相关关键字语句</h2><p>1.<br>while(条件){<br>  代码<br>}<br>2.<br>do {<br>   //代码块<br>} while (判断);<br>3.<br>for (表达示1; 表达示2; 表达示3){<br>        需要执行的代码段<br>}<br>4.<br>exit  从当前处停止后续执行<br>break 跳出循环或者跳出结构体执行后续代码<br>continue  跳出此次循环，下次循环继续<br>5.<br>goto 操作符可以用来跳转到程序中的另一位置。<br>该目标位置可以用目标名称加上冒号来标记，而跳转指令是 goto 之后接上目标位置的标记。<br>PHP 中的 goto 有一定限制，目标位置只能位于同一个文件和作用域，也就是说无法跳出一个函数或类方法，也无法跳入到另一个函数。也无法跳入到任何循环或者 switch 结构中。可以跳出循环或者 switch，通常的用法是用 goto 代替多层的 break。<br>例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">goto wan;</span><br><span class="line">echo &apos;天王盖地虎&apos;;</span><br><span class="line">wan:</span><br><span class="line">echo &apos;小鸡炖蘑菇&apos;;</span><br><span class="line">?&gt;</span><br><span class="line">仅输出 &apos;小鸡炖蘑菇&apos;</span><br></pre></td></tr></table></figure></p>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h2><p>function 函数名([参数名1[=值1], 参数名2[=值2], 参数名n[=值n]])<br>{<br>       函数中的功能体<br>    [return 返回值]<br>}<br>1.函数以function开始<br>2.function后面接空格，空格后接函数名<br>3.函数名与变量命名规则基本一样，函数名只能是字母，数字，下划线的组合，并且之间不能包含空格，数字不能放在变量名首位，但是不同的是：函数名不区分大小写<br>4.所谓参数其实就是变量<br>5.函数名后接括号，括号内跟参数，参数全都有[]（中括号）括起来了，代表参数可填可不填<br>6.如果有参数的话，参数后可以接（＝）等号，等号接默认值。参数值也是用[]（中括号）括起来的，代表选填<br>7.函数后的参数变量，主要功能是把函数体外的变量值，传入函数体内来使用，函数体的变量和函数体外的变量通常是两个不         同的变量。<br>8.函数中的具体功能（功能体）用大括号括起来，代表这是一个函数的功能区间<br>9.函数可以有返回值也可以没有返回值，用[]（中括号）括起来的，代表选填。<br>10.return后接空格，空格后接返回值，若有return,return后的代码均不执行。<br>11.函数的执行没有顺序关系，可以在定义处之前的位置调用<br>12.函数不能被定义两次，即函数不能被重载</p>
<h3 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h3><p>回调函数，就是在处理一个功能的时候，调用这个函数的时候，还可以传入一个函数配合、协助进行处理<br>例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">function woziji($one,$two,$func)&#123;</span><br><span class="line"> //我规定：检查$func是否是函数，如果不是函数停止执行本段代码，返回false</span><br><span class="line"> if(!is_callable($func))&#123;</span><br><span class="line"> return false;</span><br><span class="line"> &#125;</span><br><span class="line"> //我把$one、$two相加，再把$one和$two传入$func这个函数中处理一次</span><br><span class="line"> //$func是一个变量函数，参见变量函数这一章</span><br><span class="line"> echo $one + $two + $func($one,$two);</span><br><span class="line">&#125;</span><br><span class="line">//我们定义几个函数试试</span><br><span class="line">function plusx2( $foo , $bar)&#123;</span><br><span class="line"> $result = ($foo+$bar)*2;</span><br><span class="line"> return $result;</span><br><span class="line">&#125;</span><br><span class="line">function jian( $x , $y )&#123;</span><br><span class="line"> $result = $x - $y;</span><br><span class="line"></span><br><span class="line"> return $result;</span><br><span class="line">&#125;</span><br><span class="line">//调用一下函数，woziji，向里面传入参数试试</span><br><span class="line">echo woziji(20,10,&apos;plusx2&apos;);</span><br><span class="line">//将plusx2改成jian试试结果</span><br><span class="line">echo woziji(20,10,&apos;jian&apos;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="变量函数"><a href="#变量函数" class="headerlink" title="变量函数"></a>变量函数</h3><p>联系可变变量定义<br>例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function demo()&#123;</span><br><span class="line">    echo &apos;天王盖地虎&apos;;</span><br><span class="line">&#125;</span><br><span class="line">function test()&#123;</span><br><span class="line">    echo &apos;小鸡炖蘑菇&apos;;</span><br><span class="line">&#125;</span><br><span class="line">$fu = &apos;demo&apos;;</span><br><span class="line">//把$fu变为了demo,把demo后加上了一个括号，就执行函数了</span><br><span class="line">$fu();</span><br><span class="line">//把$fu的值改为test字符串再试试？</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>1.变量函数式的匿名函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$greet = function($name)</span><br><span class="line">&#123;</span><br><span class="line"> echo $name.&apos;，你好&apos;;</span><br><span class="line">&#125;;</span><br><span class="line">$greet(&apos;明天&apos;);</span><br><span class="line">$greet(&apos;PHP中文网&apos;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>2.回调式的匿名函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function woziji($one,$two,$func)&#123;</span><br><span class="line"> //我规定：检查$func是否是函数，如果不是函数停止执行本段代码，返回false</span><br><span class="line"> if(!is_callable($func))&#123;</span><br><span class="line">         return false;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> //我把$one、$two相加，再把$one和$two传入$func这个函数中处理一次</span><br><span class="line"> //$func是一个变量函数，参见变量函数这一章</span><br><span class="line"> echo $one + $two + $func($one,$two);</span><br><span class="line">&#125;</span><br><span class="line">woziji(20,30,function( $foo , $bar)&#123;</span><br><span class="line">   $result = ($foo+$bar)*2;</span><br><span class="line">   return $result;</span><br><span class="line">&#125;</span><br><span class="line">);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="内部函数"><a href="#内部函数" class="headerlink" title="内部函数"></a>内部函数</h3><p> 1.内部函数名，不能是已存在的函数名<br> 2.假设在函数a里面定义了一个内部函数，不能定用两次函数a。<br>例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function foo()</span><br><span class="line">&#123;</span><br><span class="line">   echo &apos;我是函数foo哟，调一下我才会执行定义函数bar的过程&lt;br /&gt;&apos;;</span><br><span class="line">   function bar()</span><br><span class="line">   &#123;</span><br><span class="line">        echo &apos;在foo函数内部有个函数叫bar函数&lt;br /&gt;&apos;;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">//现在还不能调用bar()函数，因为它还不存在</span><br><span class="line">// bar();</span><br><span class="line">foo();</span><br><span class="line">//现在可以调用bar()函数了，因为foo()函数的执行使得bar()函数变为已定义的函数</span><br><span class="line">bar();</span><br><span class="line">//再调一次foo()会报错</span><br><span class="line">foo();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h3><p>1.通过$GLOBLAS来读取外部变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$one = 10;</span><br><span class="line">function demo()&#123;</span><br><span class="line">   $two = 100;</span><br><span class="line">   $result = $two + $GLOBALS[&apos;one&apos;];</span><br><span class="line">   return $result;</span><br><span class="line">&#125;</span><br><span class="line">//你会发现结果变成了110</span><br><span class="line">echo demo();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>2.通过$GLOBLAS，在函数内修改外部变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$hongniu = &apos;我是一个兵，来自老百姓&apos;;</span><br><span class="line">function test()&#123;</span><br><span class="line">   echo &apos;执行了函数test哟&lt;br /&gt;&apos;;</span><br><span class="line">   //调用test()函数，将通过$GLOBALS[&apos;hongniu&apos;],把$hongniu的值改变掉</span><br><span class="line">   $GLOBALS[&apos;hongniu&apos;] = &apos;帮助别人很快乐&apos;;</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line">echo $hongniu;//帮助别人很快乐</span><br></pre></td></tr></table></figure></p>
<p>3.通过$GLOBLAS，在函数内创建全局变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function hello()&#123;</span><br><span class="line">   $GLOBALS[&apos;que&apos;] = &apos;提神喝茶更好哟&apos;;</span><br><span class="line">   echo &apos;你调了一下函数hello&lt;br /&gt;&apos;;</span><br><span class="line">&#125;</span><br><span class="line">hello();</span><br><span class="line">echo $que;</span><br></pre></td></tr></table></figure></p>
<h3 id="参数引用"><a href="#参数引用" class="headerlink" title="参数引用"></a>参数引用</h3><p>同比变量引用，将形参和实参指向到同一个位置。如果形参在函数体内发生变化，那么实参的值也发生变化</p>
<h3 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h3><p>1.代码是从上到下执行的，所有代码没有exit等停止符，函数必须执行完。<br>2.如果函数从函数A跳至函数B后，必须把函数B执行完成再执行函数A余下的代码。<br>3.递归函数必须要能执行完有结束条件，不然函数就会限入死循环。函数会永远的自我执行下去。</p>
<h3 id="静态变量"><a href="#静态变量" class="headerlink" title="静态变量"></a>静态变量</h3><p>声明一个静态变量，第二次调用函数的时候，静态变量不会再初始化变量，会在原值的基础上读取执行。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="comment">//--------------如何理解static静态变量-----------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** 普通局部变量 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">local</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> $loc = <span class="number">0</span>; <span class="comment">//这样，如果直接不给初值0是错误的。</span></span><br><span class="line"> ++$loc;</span><br><span class="line"> echo $loc . <span class="string">'&lt;br&gt;'</span>;</span><br><span class="line">&#125;</span><br><span class="line">local(); <span class="comment">//1</span></span><br><span class="line">local(); <span class="comment">//1</span></span><br><span class="line">local(); <span class="comment">//1</span></span><br><span class="line">echo <span class="string">'===================================&lt;br/&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** static静态局部变量 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">static_local</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">static</span> $local = <span class="number">0</span> ; <span class="comment">//此处可以不赋0值</span></span><br><span class="line"> $local++;</span><br><span class="line"> echo $local . <span class="string">'&lt;br&gt;'</span>;</span><br><span class="line">&#125;</span><br><span class="line">static_local(); <span class="comment">//1</span></span><br><span class="line">static_local(); <span class="comment">//2</span></span><br><span class="line">static_local(); <span class="comment">//3</span></span><br><span class="line"><span class="comment">//echo $local; 注意虽然静态变量，但是它仍然是局部的，在外不能直接访问的。</span></span><br><span class="line">echo <span class="string">'=======================================&lt;br&gt;'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** static静态全局变量(实际上:全局变量本身就是静态存储方式,所有的全局变量都是静态变量) */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">static_global</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> global $glo; <span class="comment">//此处，可以不赋值0，当然赋值0，后每次调用时其值都为0，每次调用函数得到的值都会是1，但是不能想当然的写上"static"加以修饰，那样是错误的.</span></span><br><span class="line"> $glo++;</span><br><span class="line"> echo $glo . <span class="string">'&lt;br&gt;'</span>;</span><br><span class="line">&#125;</span><br><span class="line">static_global(); <span class="comment">//1</span></span><br><span class="line">static_global(); <span class="comment">//2</span></span><br><span class="line">static_global(); <span class="comment">//3</span></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="系统内置函数"><a href="#系统内置函数" class="headerlink" title="系统内置函数"></a>系统内置函数</h3><p>PHP手册中函数<br>使用函数的重点是三块：<br>  1.了解函数的功能，特别是常用函数的功能<br>  2.了解函数的参数<br>  3.了解函数的返回值<br>函数的基本用法的全部注意事项：<br>  1.直接返回布尔型，如bool copy ()<br>  2.带有MIXED参数的函数如何调用。Mixed表示任何类型的数据。如Array_unshift()<br>  3.参数中带有&amp;符的参数，一定要传一个变量做为参数。函数里面改变了他的值。<br>  4.带有[]的参数，表示可选项。<br>  5.带有…的参数，表示可以传任意多个参数。<br>  6.带有callback的参数，表示回调函数。需要传一个函数进来。Array_map()<br>  7.函数支持的版本你要了解</p>
<h3 id="包含函数"><a href="#包含函数" class="headerlink" title="包含函数"></a>包含函数</h3><p>可以引入其他文件的函数<br>函数    包含失败      特点<br>Inlcude 返回一条警告  文件继续向下执行。通常用于动态包含<br>Require 一个致命的错  代码就不会继续向下执行。通常包含极为重要的文件，整个代码甭想执行<br>Include_once  返回一条警告  除了原有include的功能以外，它还会做once检测，如果文件曾经已经被被包含过，不再包含<br>Require_once  一个致命的错  除了原有的Require功能一外，会做一次once检测，防止文件反复被包含</p>
<h3 id="数学常用函数"><a href="#数学常用函数" class="headerlink" title="数学常用函数"></a>数学常用函数</h3><p>函数名 描述  实例  输入  输出<br>abs() 求绝对值  $abs = abs(-4.2); //4.2 数字  绝对值数字<br>ceil()  进一法取整 echo ceil(9.999); // 10 浮点数 进一取整<br>floor() 舍去法取整 echo floor(9.999); // 9 浮点数 直接舍去小数部分<br>fmod()  浮点数取余 “$x = 5.7;$y = 1.3;$r = fmod($x, $y);// $r equals 0.5, because 4 *  1.3 + 0.5 = 5.7    “  两个浮点数,x&gt;y 浮点余数<br>pow() 返回数的n次方 echo pow(-1, 20); // 1  基础数 n次方 乘方值<br>round() 浮点数四舍五入 echo round(1.95583, 2);// 1.96  一个数值  保留小数点后多少位,默认为0 舍入后的结果<br>sqrt()  求平方根  echo sqrt(9); //3 被开方的数 平方根<br>max() 求最大值  “echo max(1, 3, 5, 6, 7);  // 7 echo max(array(2, 4, 5)); // 5” 多个数字或数组 返回其中的最大值<br>min() 求最小值  min 多个数字或数组 返回其中的最小值<br>mt_rand() 更好的随机数  echo mt_rand(0,9);//n 最小/最大,随机数 随机返回范围内的值<br>rand()  随机数 echo rand() 最小/最大,随机数 随机返回范围内的值<br>pi()  获取圆周率值  echo pi(); // 3.1415926535898 无 获取圆周率</p>
<h3 id="获取时间信息函数"><a href="#获取时间信息函数" class="headerlink" title="获取时间信息函数"></a>获取时间信息函数</h3><p>UNIX时间戳： 从Unix纪元（1970 年 1月1日零时）开始到一个时间经过的秒数</p>
<p>date_default_timezone_get() 取得一个脚本中所有日期时间函数所使用的默认时区<br>date_default_timezone_set(‘Asia/shanghai’) 设置所有日期时间函数的默认时区<br>例<br>date_default_timezone_set(‘Asia/shanghai’);<br>echo date_default_timezone_get (); //Asia/shanghai</p>
<p>time() 获取当前时间的 Unix 时间戳。</p>
<p>string date ( string $format [, int $tirnestamp] ) 将一个时间进行格式化输出，以方便时间的显示或存储，返回字符串<br>如果$timestamp没有输入值，则默认为当前的时间的时间戳。<br>$format是一个时间输出格式的字符串，需要使用规定的字符构造输出格式。<br>date函数的格式参数表：<br>字符  说明  返回值<br>d 月份中的第几天，有前导零的2 位数字  01 到31<br>D 英文星期几，3个字母  Mon到Sun<br>j 月份中的第几天，没有前导零 1 到31<br>l(字母) 英文星期几 Sunday到 Saturday<br>N 1格式数字表示的星期  1（表示星期一）到7（表示星期天)<br>S 每月天数后面的英文后缀，2个字符  st，nd，rd或者th。可以和jg一起用<br>w 星期中的第几天，数字表示  0（表示星期天）到 6（表示星期六）<br>z 一年中的第几天 0到366<br>W 年份中的第几周，每周从星期一开始  42（当年的第42周）<br>F 月份，完整的文本格式  January 到 December<br>m 数字表示月份，有前导零 01 到 12<br>M 3个字母缩写表示的月份 Jan 到Dec<br>n 数字表示月份，没有前导零  1 到 12<br>t 给定月份所应有的天数  28 到 31<br>L 是否为闰年 如果是闰年为1，否则为o<br>o 格式年份数字  例如2007<br>Y 4 位数字完整表示年份 例如1999或2008<br>y 2 位数字表示的年份  例如99或08<br>a 小写的上午和下午值 am或pm<br>A 大写的上午和下午值 AM或PM<br>g 小时，12小时格式，没有前导零 1到12<br>G 小时，24小时格式，没有前导零 0 到 23<br>i 有前导零的分钟数  00 到 59<br>s 秒数，有前导零 00到59<br>e 时区标识<br>U 从Unix纪元开始至今的秒数  长整型数字</p>
<p>例<br>date(‘Y-m-d H:i:s’);//2017-04-28 14:53:01</p>
<p>array getdate ([ int $timestamp = time()) 用来获取当前系统的时间，或者获得一个时间戳的具体含义<br>函数的返回值是一个根据timestamp得到的包含有时间信息的数组。如果没有参数，则会返回当前的时间。getdate返回的数组，键名包括时间和日期的完整信息<br>键名  说明  返回值<br>secnods 秒 数字0到 59<br>minutes 分钟  数字0到59<br>hours 小时  数字 0到 23<br>mday  月份中第几天  数字 1到 31<br>wday  星期中第几天  数字0（表示星期天）到6（表示星期六）<br>mon 月份  数字 1 到 12<br>year  年 4 位数字表示的完整年份<br>yday  一年中第几天  数字0到365<br>weekday 星期几的英文  Sunday到 Saturday<br>month 月份的英文 January 到 December<br>0 自从Unix纪元开始的秒数 长整型数字</p>
<p>print_r(数组名)可以输出一个数组中所有的键名与值。</p>
<p>bool checkdate(int $month,int $day,int $year) 可以判断一个输出的日期是否有效。返回布尔类型，例如验证用户输入的时间是否正确<br>例 var_dump(checkdate(2, 29, 2011)); //bool(false) 2011年2月没有29日</p>
<p>int mktime (int $hour [, int $minute [, int $second [, int $month [, int $day [. int$year [, int $.is_dstl.l } ] ] 31 )  可以对一个日期和时间获得一个本地化时间戳<br>函数的参数分别表示：时、分、秒、月、日、年、是否为夏令时。在使用这个函数时，需要注意所列的参数要与函数的参数含义相同。</p>
<p>int strtotime ( string $time [, int $now = time() ] )  将英文文本的日期时间描述解析为 Unix 时间戳<br>1.传入一个字符串的时间 2.可选参数为是否传入unix时间戳，如果不传则是当前的unix时间戳。<br>例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//now为现在的当前时间</span><br><span class="line">echo strtotime(&quot;now&quot;).&quot;&lt;br /&gt;&quot;;</span><br><span class="line">//2000年9月10日</span><br><span class="line">echo strtotime(&quot;10 September 2000&quot;).&quot;&lt;br /&gt;&quot;;</span><br><span class="line">//当前时间加一天</span><br><span class="line">echo strtotime(&quot;+1 day&quot;).&quot;&lt;br /&gt;&quot;;</span><br><span class="line">//当前时间加一周</span><br><span class="line">echo strtotime(&quot;+1 week&quot;).&quot;&lt;br /&gt;&quot;;</span><br><span class="line">//当前时间加一周2天4小时2秒</span><br><span class="line">echo strtotime(&quot;+1 week 2 days 4 hours 2 seconds&quot;).&quot;&lt;br /&gt;&quot;;</span><br><span class="line">//下一个星期四</span><br><span class="line">echo strtotime(&quot;next Thursday&quot;).&quot;&lt;br /&gt;&quot;;</span><br><span class="line">//上一个星期一</span><br><span class="line">echo strtotime(&quot;last Monday&quot;).&quot;&lt;br /&gt;&quot;;</span><br></pre></td></tr></table></figure></p>
<p>mixed microtime ([ bool $get_as_float ] ) 能够返回当前 Unix 时间戳和微秒数可用于执行函数时间检测<br>如果你传入true的话，将会返回一个浮点类型的时间，这样方便参与运算。</p>
<h3 id="字符串常用函数"><a href="#字符串常用函数" class="headerlink" title="字符串常用函数"></a>字符串常用函数</h3><p>函数名  描述  实例<br>trim()  删除字符串两端的空格或其他预定义字符  “$str = “\r\nHello World!\r\n”; echo trim($str);<br>rtrim() 删除字符串右边的空格或其他预定义字符  “$str = “Hello World!\n\n”; echo rtrim($str);”<br>chop()  rtrim()的别名  同上<br>ltrim() 删除字符串左边的空格或其他预定义字符  “$str = “\r\nHello World!”; echo ltrim($str);”<br>dirname() 回路径中的目录部分（我们把它归在了字符串函数里了） echo dirname(“c:/testweb/home.php”);<br>str_pad() 把字符串填充为指定的长度  $str = “Hello World”; echo str_pad($str,20,”.”);<br>str_repeat()  重复使用指定字符串 echo str_repeat(“.”,13);<br>str_split() 把字符串分割到数组中  print_r(str_split(“Hello”));<br>strrev()  反转字符串 echo strrev(“Hello World!”);<br>wordwrap()  按照指定长度对字符串进行折行处理  “$str = “”An example on a long word is: Supercalifragulistic””; echo wordwrap($str,15);”<br>str_shuffle() 随机地打乱字符串中所有字符 echo str_shuffle(“Hello World”);<br>parse_str() 将字符串解析成变量 “parse_str(“id=23&amp;name=John%20Adams”,$myArray); print_r($myArray);”<br>number_format() 通过千位分组来格式化数字  “echo number_format(“1000000”); echo number_format(“1000000”,2); echo number_format(“1000000”,2,””,””,””.””);”<br>strtolower()  字符串转为小写 echo strtolower(“Hello WORLD!”);<br>strtoupper()  字符串转为大写 echo strtoupper(“Hello WORLD!”);<br>ucfirst() 字符串首字母大写  echo ucfirst(“hello world”);<br>ucwords() 字符串每个单词首字符转为大写  echo ucwords(“hello world”);<br>htmlentities()  把字符转为HTML实体 $str = “”John &amp; ‘Adams’””; echo htmlentities($str, ENT_COMPAT);<br>htmlspecialchars()  预定义字符转html编码<br>nl2br() \n转义为<br>标签  echo nl2br(“One line.\nAnother line.”);<br>strip_tags()  剥去 HTML、XML 以及 PHP 的标签  echo strip_tags(“Hello world!”);<br>addcslashes() 在指定的字符前添加反斜线转义字符串中字符  $str = “”Hello, my name is John Adams.” echo $str; echo addcslashes($str,’m’);”<br>stripcslashes() 删除由addcslashes()添加的反斜线  echo stripcslashes(“Hello, \my na\me is Kai Ji\m.”);<br>addslashes()  指定预定义字符前添加反斜线 $str = “Who’s John Adams?”;echo addslashes($str);<br>stripslashes()  删除由addslashes()添加的转义字符  echo stripslashes(“Who\’s John Adams?”);<br>quotemeta() 在字符串中某些预定义的字符前添加反斜线 $str = “Hello world. (can you hear me?)”; echo quotemeta($str);<br>chr() 从指定的 ASCII 值返回字符  echo chr(052);<br>ord() 返回字符串第一个字符的 ASCII值  echo ord(“hello”);<br>strcasecmp()  不区分大小写比较两字符串  echo strcasecmp(“Hello world!”,”HELLO WORLD!”);<br>strcmp()  区分大小写比较两字符串<br>strncmp() 比较字符串前n个字符,区分大小写<br>strncasecmp() 比较字符串前n个字符,不区分大小写 int strncasecmp ( string $str1 , string $str2 , int $len )<br>strnatcmp() 自然顺序法比较字符串长度,区分大小写  int strnatcmp ( string $str1 , string $str2 )<br>strnatcasecmp() 自然顺序法比较字符串长度,不区分大小写 int strnatcasecmp ( string $str1 , string $str2 )<br>chunk_split() 将字符串分成小块  str chunk_split(str $body[,int $len[,str $end]])<br>strtok()  切开字符串 str strtok(str $str,str $token)<br>explode() 使用一个字符串为标志分割另一个字符串  array explode(str $sep,str $str[,int $limit])<br>implode() 同join,将数组值用预订字符连接成字符串 string implode ( string $glue , array $pieces )<br>substr()  截取字符串 string substr ( string $string , int $start [, int $length ] )<br>str_replace() 字符串替换操作,区分大小写 mix str_replace(mix $search,,mix $replace,mix $subject[,int &amp;$num])<br>str_ireplace()  字符串替换操作,不区分大小写  mix str_ireplace ( mix $search , mix $replace , mix $subject [, int &amp;$count ] )<br>substr_count()  统计一个字符串,在另一个字符串中出现次数  int substr_count ( string $haystack , string $needle [, int $offset = 0 [, int $length ]] )<br>substr_replace()  替换字符串中某串为另一个字符串 mixed substr_replace ( mixed $string , string $replacement , int $start [, int $length ] )<br>similar_text()  返回两字符串相同字符的数量 int similar_text(str $str1,str $str2)<br>strchr()  返回一个字符串在另一个字符串中开始位置到结束的字符串  string strstr ( string $str, string $needle , bool $before_needle )<br>strrchr() 返回一个字符串在另一个字符串中最后一次出现位置开始到末尾的字符串  string strrchr ( string $haystack , mixed $needle )<br>stristr() 返回一个字符串在另一个字符串中开始位置到结束的字符串，不区分大小写 string stristr ( string $haystack , mixed $needle [, bool $before_needle = false ] )<br>strtr() 转换字符串中的某些字符 string strtr ( string $str , string $from , string $to )<br>strpos()  寻找字符串中某字符最先出现的位置  int strpos ( string $haystack , mixed $needle [, int $offset = 0 ] )<br>stripos() 寻找字符串中某字符最先出现的位置,不区分大小写 int stripos ( string $haystack , string $needle [, int $offset ] )<br>strrpos() 寻找某字符串中某字符最后出现的位置 int strrpos ( string $haystack , string $needle [, int $offset = 0 ] )<br>strripos()  寻找某字符串中某字符最后出现的位置,不区分大小写  int strripos ( string $haystack , string $needle [, int $offset ] )<br>strspn()  返回字符串中首次符合mask的子字符串长度 int strspn ( string $str1 , string $str2 [, int $start [, int $length ]] )<br>strcspn() 返回字符串中不符合mask的字符串的长度  int strcspn ( string $str1 , string $str2 [, int $start [, int $length ]] )<br>str_word_count()  统计字符串含有的单词数 mix str_word_count(str $str,[])<br>strlen()  统计字符串长度 int strlen(str $str)<br>count_chars() 统计字符串中所有字母出现次数(0..255)  mixed count_chars ( string $string [, int $mode ] )<br>md5() 字符串md5编码  $str = “Hello”; echo md5($str)<br>iconv</p>
<p>mb_substr 获取字符串的部分  string mb_substr ( string $str , int $start [, int $length = NULL [, string $encoding = mb_internal_encoding() ]] )<br>mb_http_output  设置/获取 HTTP 输出字符编码 mixed mb_http_output ([ string $encoding = mb_http_output() ] )<br>mb_strlen 获取字符串的长度  mixed mb_strlen ( string $str [, string $encoding = mb_internal_encoding() ] )<br>iconv 字符串按要求的字符编码来转换  string iconv ( string $in_charset , string $out_charset , string $str )<br>iconv_substr  截取字符串的部分<br>iconv_get_encoding  获取 iconv 扩展的内部配置变量<br>mb_substr_count 统计字符串出现的次数<br>mb_check_encoding 检查字符串在指定的编码里是否有效<br>mb_strrpos  查找字符串在一个字符串中最后出现的位置<br>mb_split  使用正则表达式分割多字节字符串<br>parse_url 解释URL成为一个数组</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoohannah.github.io/post/algorithm/sort.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="YooHannah">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/psb.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="My Little World">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="My Little World" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/algorithm/sort.html" itemprop="url">
                  排序
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-14T22:18:37+08:00">
                2017-04-14
              </time>
            

            

            
          </span>

          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>记录：在排序问题中，通常将数据元素称为记录<br>–输入一个记录集合，排序后输出也是一个记录集合<br>–将排序看成是线性表的一种操作<br>排序依据关键字之间的大小关系，那么对同一记录集合，针对不同的关键字进行排序，可以得到不同的序列</p>
<h1 id="排序稳定性"><a href="#排序稳定性" class="headerlink" title="排序稳定性"></a>排序稳定性</h1><p>假设Ki=Kj(1&lt;=i&lt;=n,1&lt;=j&lt;=n,i!=j),且在排序前的序列中ri领先于rj(即i&lt;j)<br>–如果排序后ri仍领先于rj,则称所用排序方法是稳定的<br>–反之，若排序后rj仍领先于ri,则称所用排序方法是不稳定的<br>即原来值相同的两个值A和B,排序前A在B前面，排序后位置不变则说排序算法是稳定的，否则是不稳定的</p>
<h1 id="影响排序算法性能的几个要素"><a href="#影响排序算法性能的几个要素" class="headerlink" title="影响排序算法性能的几个要素"></a>影响排序算法性能的几个要素</h1><p>时间性能(比较，移动)<br>辅助空间(存放临时变量)<br>算法的复杂性</p>
<h1 id="冒泡排序算法n-2"><a href="#冒泡排序算法n-2" class="headerlink" title="冒泡排序算法n^2"></a>冒泡排序算法n^2</h1><p>两两相邻记录的关键字，如果反序则交换，直到没有反序记录为止<br>注意点：<br>– 每次比较相邻两个元素<br>– 如果有n个元素,比较n-1次，每次减少1次比较<br>– 从下往上比较，即从后往前比较<br><a href="https://github.com/YooHannah/algorithm/blob/master/js/bubblesort.js" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="选择排序法n-2"><a href="#选择排序法n-2" class="headerlink" title="选择排序法n^2"></a>选择排序法n^2</h1><p>通过n-i次关键字间的比较，从n-i+1个记录中选出关键字最小的记录，并和第i(1=&lt;i&lt;=n)个记录交换<br><a href="https://github.com/YooHannah/algorithm/blob/master/js/SelectSort.js" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="直接插入排序n-2"><a href="#直接插入排序n-2" class="headerlink" title="直接插入排序n^2"></a>直接插入排序n^2</h1><p>连续两个值比较若后面的比前面的小，就将后面的值移到比它大的值的前面<br>适用于记录本身就是有序的,记录数少<br><a href="https://github.com/YooHannah/algorithm/blob/master/js/InsertSort.js" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="希尔排序n-logn"><a href="#希尔排序n-logn" class="headerlink" title="希尔排序n*logn"></a>希尔排序n*logn</h1><p>将所有元素按一定间隔f取出n/f个进行比较，再按顺序放回对应的位置，直到所有元素参与完比较之后，算完成一轮比较，<br>再改变间隔进行下一轮比较，直到间隔为1<br>可以将该处理方法套进冒泡、选择和直接插入的方法中<br><a href="https://github.com/YooHannah/algorithm/blob/master/js/shellsort.js" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="堆排序n-logn"><a href="#堆排序n-logn" class="headerlink" title="堆排序n*logn"></a>堆排序n*logn</h1><p>大顶堆；每个结点大于等于其左右孩子的完全二叉树<br>小顶堆：每个结点小于等于其左右孩子的完全二叉树<br>各结点一定是堆中所有结点的最大或最小者，如果按照层序遍历方式给结点从1开始编号，则结点之间满足如下关系<br>大顶堆：Ki&gt;=K2i &amp;&amp; Ki&gt;=K2i+1<br>大顶堆：Ki&lt;=K2i &amp;&amp; Ki&lt;=K2i+1<br>其中(1&lt;=i&lt;=n/2取下限)<br>下标i与2i和2i+1是双亲和子女关系<br>堆排序：利用堆进行排序<br>– 将待排序的序列构造成一个大顶堆(从小到大)(或小顶堆(从大到小))<br>– 此时整个序列的最大值就是堆顶的根结点。将它移走(就是将其与堆数组的末尾元素交换，此时末尾元素就是最大值)<br>– 然后将剩余的n-1个序列重新构造成一个堆，这样就会得到n个元素中的此最大值<br>– 如此反复执行，便能得到一个有序序列了<br><a href="https://github.com/YooHannah/algorithm/blob/master/js/HeapSort.js" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h1><p>将待排序数组每次一份为2，直到每一份的数组长度为1，<br>对拆分的两份结果排序合成一个新数组，参与下次下一次比较排序合并<br><a href="https://github.com/YooHannah/algorithm/blob/master/js/MergeSort.js" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h1><p>每趟排序指定一个基准点，把比基准点小的元素放在基准点左边，比基准点大的元素放在基准点右边<br>再以基准点为界，把前面的数据(都比基准点小)和后面的数据(都比基准点大)按两部分的最小下标为基准准进行移动,<br>优化<br>选取基准点<br>不必要的交换<br>小数组时的排序方案(使用直接插入排序)<br>递归操作<br>尾递归：函数递归形式的调用出现在函数末尾，可以大大缩减栈空间<br><a href="https://github.com/YooHannah/algorithm/blob/master/js/QuickSort.js" target="_blank" rel="noopener">代码链接</a></p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p><img src="/image/qsort.png" alt="qsort"><br>插入排序类:直接插入排序、希尔排序<br>选择排序类：选择排序、堆排序<br>交换排序类：冒泡排序、快速排序<br>归并排序类：归并排序<br><img src="/image/sort.png" alt="sort"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/16/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><span class="page-number current">17</span><a class="page-number" href="/page/18/">18</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/18/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/psb.jpg" alt="YooHannah">
          <p class="site-author-name" itemprop="name">YooHannah</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">240</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">YooHannah</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/treedocument/treedocument.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	




  
  

  

  

  

  


</body>
</html>
